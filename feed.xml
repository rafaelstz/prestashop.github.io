<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>PrestaShop Developers&#39; blog</title>
    <description>Official blog for PrestaShop development straight from the product and core dev team.</description>
    <link>http://build.prestashop.com/</link>
    <atom:link href="http://build.prestashop.com/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Tue, 23 Jun 2015 09:39:19 +0200</pubDate>
    <lastBuildDate>Tue, 23 Jun 2015 09:39:19 +0200</lastBuildDate>
    <generator>Jekyll v2.4.0</generator>
    
      <item>
        <title>PrestaShop 1.6.1.0: a new level of performances</title>
        <description>&lt;p&gt;A lot of things have been improved on PrestaShop 1.6.1.0:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Design.&lt;/li&gt;
  &lt;li&gt;Invoices.&lt;/li&gt;
  &lt;li&gt;Search.&lt;/li&gt;
  &lt;li&gt;Performance.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We have done a lot of work to improve the overall performances of PrestaShop, and reached in some cases a whooping &lt;strong&gt;10x improvement&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Let’s now dig into the optimizations we have put in place, and do some benchmarks.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: This article was first published by Jocelyn on his blog at Softizy. &lt;a href=&quot;https://www.softizy.com/blog/prestashop-1-6-1-0-performances/&quot;&gt;Read the original here&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;which-parts-of-prestashop-are-faster&quot;&gt;Which parts of PrestaShop are faster?&lt;/h2&gt;

&lt;h3 id=&quot;faster-single-threaded-performances&quot;&gt;Faster single-threaded performances&lt;/h3&gt;

&lt;p&gt;Thanks to our internal tools (to be publicly released soon!), we quickly identified the bottlenecks of PrestaShop which were directly impacting the generation time of some pages, and hence the SEO and user satisfaction.&lt;/p&gt;

&lt;p&gt;At the PHP level, with the cache deactivated and after launching a crawl on a real shop, we collected all the data we needed in a few minutes:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/php_bottleneck.jpg&quot; alt=&quot;PHP bottleneck&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Same at the SQL level:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/bottleneck.jpg&quot; alt=&quot;SQL bottleneck&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Thanks to these findings, we have rewritten a large amount of SQL queries to improve their efficiency, and we improved the PHP core to remove the detected bottlenecks.&lt;/p&gt;

&lt;h3 id=&quot;faster-multi-threaded-performances&quot;&gt;Faster multi-threaded performances&lt;/h3&gt;

&lt;p&gt;Beside the huge work on the query performances, we have worked a lot on the SQL queries to make sure the MySQL query cache is used efficiently. We also fixed a few nasty issues in the PrestaShop cache. Actually, most of the time the use of the PrestaShop cache was decreasing the performance. This is no longer the case!&lt;/p&gt;

&lt;h3 id=&quot;specific-optimizations-for-multi-front--cloud-environment&quot;&gt;Specific optimizations for multi-front / cloud environment&lt;/h3&gt;

&lt;p&gt;PrestaShop is using Smarty to handle the templates. If you are using several front servers, the out of the box Smarty implementation forces you to centralize its cache on a shared filesystem (NFS).&lt;/p&gt;

&lt;p&gt;To remove this limitation, we added a custom Smarty module which makes it work perfectly with a local Smarty cache (no more NFS needed!). Moreover, our implementation sped up a lot the cases where the cache had to be invalidated: instead of flushing all the files at once, each template is flushed asynchronously.&lt;/p&gt;

&lt;p&gt;This quickened a lot all the back office operations!&lt;/p&gt;

&lt;h3 id=&quot;better-back-office-performances&quot;&gt;Better back office performances&lt;/h3&gt;

&lt;p&gt;We removed the most frustrating bottleneck in the PrestaShop back office:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Faster imports&lt;/strong&gt;: We worked hard to improve the import speed. The more you import products, the more you’ll see the speed up!&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Better search indexing&lt;/strong&gt;: We improved both the memory usage and the search indexing speed.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;No more issue with huge cart rules or categories&lt;/strong&gt;: Cart rules and categories are now loaded asynchronously.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;lets-bench&quot;&gt;Let’s bench!&lt;/h2&gt;

&lt;h3 id=&quot;the-configuration&quot;&gt;The configuration&lt;/h3&gt;

&lt;p&gt;To do this benchmark, we chose to use a dedicated Mini HG server from OVH, which offers high performances for a fairly decent price:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;CPU: Intel(R) Xeon(R) CPU E5-2650 v2 @ 2.60GHz (8 cores, 16 threads)&lt;/li&gt;
  &lt;li&gt;Memory: 64 GB&lt;/li&gt;
  &lt;li&gt;Disk: 2x SSD 600 GB&lt;/li&gt;
  &lt;li&gt;RAID Controller: LSI MegaRAID SAS 9271-4i CacheVault 1G FastPath&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We used a &lt;a href=&quot;https://www.debian.org/releases/stable/&quot;&gt;Debian Jessie&lt;/a&gt;, with the standard packages, and a properly optimized configuration:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Apache 2.4.10, with &lt;a href=&quot;http://httpd.apache.org/docs/2.4/mod/event.html&quot;&gt;mpm_event&lt;/a&gt; and the following configuration:&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;ServerLimit             16
MaxClients              400
StartServers            3
ThreadLimit             64
ThreadsPerChild         25
MaxRequestWorkers       400
MaxConnectionsPerChild  0&lt;/pre&gt;

&lt;ul&gt;
  &lt;li&gt;PHP 5.6.7 and &lt;a href=&quot;https://pecl.php.net/package/APCu&quot;&gt;APCu&lt;/a&gt; + &lt;a href=&quot;https://pecl.php.net/package/ZendOpcache&quot;&gt;Zend OpCache&lt;/a&gt; v7.0.4-dev in &lt;a href=&quot;http://php-fpm.org/&quot;&gt;PHP-FPM&lt;/a&gt; mode with the following configuration:&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;pm                    = dynamic
pm.max_children       = 400
pm.start_servers      = 75
pm.min_spare_servers  = 50
pm.max_spare_servers  = 100&lt;/pre&gt;

&lt;ul&gt;
  &lt;li&gt;MariaDB 10.0.0.19, with the following configuration:&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;performance_schema                    = OFF
innodb_lock_wait_timeout              = 120
default_storage_engine                = InnoDB
max_allowed_packet                    = 16M
key_buffer_size                       = 128M
table_cache                           = 4096
read_buffer_size                      = 2M
read_rnd_buffer_size                  = 1M
thread_cache_size                     = 80
join_buffer_size                      = 2M
sort_buffer_size                      = 2M
max_connections                       = 400
tmp_table_size                        = 32M
max_heap_table_size                   = 32M
table_definition_cache                = 8192
query_cache_size                      = 32M
innodb_buffer_pool_size               = 3G
innodb_log_file_size                  = 128M
innodb_log_files_in_group             = 2
innodb_log_buffer_size                = 8M
innodb_flush_log_at_trx_commit        = 2
innodb_thread_concurrency             = 32
innodb_read_io_threads                = 8
innodb_write_io_threads               = 8
innodb_flush_method                   = O_DIRECT
innodb_file_per_table                 = 1
innodb_io_capacity                    = 2000
innodb_file_format                    = Barracuda
innodb_buffer_pool_dump_at_shutdown   = ON
innodb_buffer_pool_load_at_startup    = ON
innodb_checksum_algorithm             = crc32
innodb_log_compressed_pages           = 0
# SSD
innodb_flush_neighbors                = 0
# Mutex contention
innodb_adaptive_hash_index_partitions = 16
innodb_buffer_pool_instances          = 16&lt;/pre&gt;

&lt;p&gt;We tested a real shop with:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;1,827 categories&lt;/li&gt;
  &lt;li&gt;10,843 cart rules&lt;/li&gt;
  &lt;li&gt;1,904 products&lt;/li&gt;
  &lt;li&gt;2M product attributes&lt;/li&gt;
  &lt;li&gt;16.5M attribute combinations&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When Memcached is used, it’s configured locally, with 128 MB of memory.&lt;/p&gt;

&lt;p&gt;The single-threaded and multi-threaded benchmarks results are the average of 5 “&lt;a href=&quot;https://www.joedog.org/siege-home/&quot;&gt;siege&lt;/a&gt; -i -b -t 20S” (20s benchmark), on representative pages which have a direct impact on user navigation and SEO:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Category pages&lt;/li&gt;
  &lt;li&gt;Product pages&lt;/li&gt;
  &lt;li&gt;Home pages&lt;/li&gt;
  &lt;li&gt;Cart pages&lt;/li&gt;
  &lt;li&gt;Best sales pages&lt;/li&gt;
  &lt;li&gt;Tag search pages&lt;/li&gt;
  &lt;li&gt;Manufacturer pages&lt;/li&gt;
  &lt;li&gt;New product pages&lt;/li&gt;
  &lt;li&gt;Price drop pages&lt;/li&gt;
  &lt;li&gt;Supplier pages&lt;/li&gt;
  &lt;li&gt;Search pages&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;the-results&quot;&gt;The results&lt;/h3&gt;

&lt;h4 id=&quot;front-performances&quot;&gt;Front performances&lt;/h4&gt;

&lt;p&gt;First, the single-threaded performances:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/single-threaded-performances2.jpg&quot; alt=&quot;Prestashop 1.6.1.0: single-threaded performances&quot; /&gt;&lt;/p&gt;

&lt;p&gt;It looks promising: up to &lt;strong&gt;10x improvement&lt;/strong&gt; when Memcached is On!&lt;/p&gt;

&lt;p&gt;Let’s take a look at how the new 1.6.1.0 scales:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/multi-threaded-performances1.jpg&quot; alt=&quot;Prestashop 1.6.1.0 : Multi-threaded performances with Query Cache and Memcached disabled&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Even without any cache, 1.6.1.0 scales much better than 1.6.0.14, and is &lt;strong&gt;up to 65% faster with 15 concurrent connections&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/multi-threaded-performances-qc-on-memcached-off1.png&quot; alt=&quot;Prestashop 1.6.1.0: Multi-threaded performances with Query Cache enabled and Memcached disabled&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If we enable the query cache, the 1.6.1.0 is still &lt;strong&gt;up to 50% faster with 10 concurrent connections&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/multi-threaded-performances-qc-on-memcached-on3.png&quot; alt=&quot;CC0 Logo&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Well, we definitely fixed the PrestaShop cache issue. We reach almost a &lt;strong&gt;10x improvement with 10 concurrent connections&lt;/strong&gt;!&lt;/p&gt;

&lt;p&gt;Here are the performances side by side, at 10 concurrent connections:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/multi-threaded-performances1.jpg&quot; alt=&quot;CC0 Logo&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;back-office-performances&quot;&gt;Back office performances&lt;/h4&gt;

&lt;p&gt;Here are a few results from the back office.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Full search reindexing:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/search-index-time3.png&quot; alt=&quot;CC0 Logo&quot; /&gt;&lt;/p&gt;

&lt;p&gt;On the performance side, when Memcached is enabled, 1.6.0.14 times out after 900s, and eats more than 128 MB of memory. When Memcached is disabled, &lt;strong&gt;1.6.1.0 is 2.3x faster than 1.6.0.14, eats 1.7x less memory&lt;/strong&gt;, and fixes a bug with multi attributes. Not bad!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Import speed:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/import-time1.png&quot; alt=&quot;CC0 Logo&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Although those results were not computed on the same machine, I decided to include them as well to show you the potential speed you could expect with the import in 1.6.1.0 (here &lt;strong&gt;almost a 5x speed up&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;Now let’s measure the time to load some back office pages.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Product edit:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/edit-product3.png&quot; alt=&quot;CC0 Logo&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In our case, with 1,827 categories, &lt;strong&gt;1.6.1.0 is 1.7x faster&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Cart rules:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/perfs/edit-cart-rules1.png&quot; alt=&quot;CC0 Logo&quot; /&gt;&lt;/p&gt;

&lt;p&gt;With 10843 cart rules, once again &lt;strong&gt;1.6.1.0 is 1.7x faster&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;1.6.1.0 is a major release in terms of performances, with up to 10x speed up in some cases.&lt;/p&gt;

&lt;p&gt;To achieve those results we have worked really closely with the PrestaShop team, modifying about 6600 lines of code in a few months. We hope you’ll be happy with this version, and don’t hesitate to report any performance issues on &lt;a href=&quot;http://forge.prestashop.com&quot;&gt;the Forge&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Final note: Whereas in 1.6.0.14 we recommended to not enable the PrestaShop cache, in 1.6.1.0 we recommend you to enable it, with a local Memcached server (APC should be OK as well).&lt;/p&gt;
</description>
        <pubDate>Mon, 22 Jun 2015 20:29:47 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-1-6-1-0-performances/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-1-6-1-0-performances/</guid>
        
        <category>core-weekly</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>PrestaShop Core Weekly - Week 24</title>
        <description>&lt;p&gt;This edition of the Core Weekly report highlights changes in PrestaShop core codebase during the last two weeks, from Monday 8th to Sunday 14th of June, 2015.&lt;/p&gt;

&lt;h2 id=&quot;milestones&quot;&gt;Milestones&lt;/h2&gt;

&lt;p&gt;The Core team is working on version 1.6.1.0, and the fourth Release Candidate version still needs some testing! &lt;a href=&quot;http://build.prestashop.com/news/prestashop-1-6-1-0-rc4/&quot;&gt;Read all about it here&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;It was a short week, since last Thursday we organized the PrestaShop Day in Paris (&lt;a href=&quot;https://www.prestashop.com/blog/en/prestashopday-recapping-amazing-event/&quot;&gt;see the official report here&lt;/a&gt;), and the whole team was attending and even presenting workshops for potential contributors and partners. We hope you learnt a lot! We will try to publish the slides of our workshops very soon right here on the Build PrestaShop devblog.&lt;/p&gt;

&lt;p&gt;As a reminder, we recently chose to &lt;a href=&quot;http://build.prestashop.com/news/prestashop-moves-to-psr-2/&quot;&gt;change our Coding Standards to PSR-2&lt;/a&gt;, and to &lt;a href=&quot;http://build.prestashop.com/news/a-more-semantic-versioning-scheme/&quot;&gt;adopt a SemVer-like versioning scheme&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Of note among the merged PRs last week:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;In PR 3155, Core developer Maxime Biloé (maximebiloe) added a button to re-send the order email from the Orders page.&lt;/li&gt;
  &lt;li&gt;In PR 3158, Core developer Julien Bourdeau (julienbourdeau) updated the way invoices are generated after receiving feedback.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;code-changes&quot;&gt;Code changes&lt;/h2&gt;

&lt;p&gt;Let’s review the merged pull-requests from the previous two weeks!&lt;/p&gt;

&lt;p&gt;As always, click on the PR’s number to open its page on GitHub.&lt;/p&gt;

&lt;h4 id=&quot;front-office&quot;&gt;Front office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3162&quot;&gt;3162&lt;/a&gt;: Advanced EU Compliance fixes, by tchauviere.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3077&quot;&gt;3077&lt;/a&gt;: Fix bug triggered when adding customizable product twice in cart, by kelu95.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3050&quot;&gt;3050&lt;/a&gt;: Fix bug triggered when adding new customized product into new order, by kelu95.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;back-office&quot;&gt;Back office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3155&quot;&gt;3155&lt;/a&gt;: Add the possibility to re-send the order emails, by maximebiloe.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3138&quot;&gt;3138&lt;/a&gt;: Filter SAV by shop, by maximebiloe.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;core&quot;&gt;Core&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3160&quot;&gt;3160&lt;/a&gt;: Better way to handle DB prefixes, by tchauviere.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3167&quot;&gt;3167&lt;/a&gt;: Improve db escape method, by tchauviere.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;pdf&quot;&gt;PDF&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3158&quot;&gt;3158&lt;/a&gt;: Change invoice after feedback, by julienbourdeau.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;See all the PRs merged into the codebase since June the 8th &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pulls?page=2&amp;amp;q=is%3Apr+merged%3A%3E2015-06-08+is%3Aclosed+sort%3Aupdated&amp;amp;utf8=%E2%9C%93&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thank you to the contributors whose PRs haven’t been merged yet! And of course, a big thank you to all those who contribute with tickets on the Forge!&lt;/p&gt;

&lt;p&gt;If you want to contribute to PrestaShop with code, read those:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;…and if you do not know how to fix an issue but wish to report it, read this: &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;How to use the Forge to contribute to PrestaShop&lt;/a&gt;. Thank you!&lt;/p&gt;

&lt;p&gt;Happy contributin’ everyone!&lt;/p&gt;
</description>
        <pubDate>Fri, 19 Jun 2015 14:29:47 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-core-weekly-weeks-24/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-core-weekly-weeks-24/</guid>
        
        <category>core-weekly</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>Do you speak PrestaShop? – May 2015 edition</title>
        <description>&lt;p&gt;With the launch of the build.prestashop.com blog, we’ve been planning for a while to highlight the dedicated work of the community on the &lt;a href=&quot;https://crowdin.com/project/prestashop-official&quot;&gt;PrestaShop translation project on Crowdin&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;So, better late than never, here is the report for May 2015, which is a snapshot of the project at the end of May.
The idea is to give you a quick summary of what has been going on over there, what languages are the most active and other information about our translating community.&lt;/p&gt;

&lt;p&gt;All the figures and statistics are based on the 1.6.0.14 project, which is the last stable version released to date. &lt;/p&gt;

&lt;h2 id=&quot;top-contributors&quot;&gt;Top contributors&lt;/h2&gt;

&lt;p&gt;A lot of you are working everyday on Crowdin to have PrestaShop available in many languages. Here are the &lt;strong&gt;most active translators and proofreaders&lt;/strong&gt; for the month of May:&lt;/p&gt;

&lt;h4 id=&quot;top-10-translators&quot;&gt;Top 10 translators:&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt; &lt;/th&gt;
      &lt;th&gt;Translator&lt;/th&gt;
      &lt;th&gt;Language&lt;/th&gt;
      &lt;th&gt;# Words&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1.&lt;/td&gt;
      &lt;td&gt;xymarior&lt;/td&gt;
      &lt;td&gt;Portuguese&lt;/td&gt;
      &lt;td&gt;4694&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2.&lt;/td&gt;
      &lt;td&gt;MartinsZB&lt;/td&gt;
      &lt;td&gt;Latvian&lt;/td&gt;
      &lt;td&gt;3131&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3.&lt;/td&gt;
      &lt;td&gt;xabigar&lt;/td&gt;
      &lt;td&gt;Basque&lt;/td&gt;
      &lt;td&gt;1605&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4.&lt;/td&gt;
      &lt;td&gt;martinlaihm&lt;/td&gt;
      &lt;td&gt;Trad. Chinese&lt;/td&gt;
      &lt;td&gt;1551&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5.&lt;/td&gt;
      &lt;td&gt;michalurva&lt;/td&gt;
      &lt;td&gt;Slovak&lt;/td&gt;
      &lt;td&gt;1336&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;6.&lt;/td&gt;
      &lt;td&gt;Koral&lt;/td&gt;
      &lt;td&gt;Polish&lt;/td&gt;
      &lt;td&gt;1106&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;7.&lt;/td&gt;
      &lt;td&gt;juandortech&lt;/td&gt;
      &lt;td&gt;Spanish&lt;/td&gt;
      &lt;td&gt;982&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;8.&lt;/td&gt;
      &lt;td&gt;ggedamed&lt;/td&gt;
      &lt;td&gt;Romanian&lt;/td&gt;
      &lt;td&gt;888&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;9.&lt;/td&gt;
      &lt;td&gt;nghiazer&lt;/td&gt;
      &lt;td&gt;Vietnamese&lt;/td&gt;
      &lt;td&gt;716&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10.&lt;/td&gt;
      &lt;td&gt;extendus&lt;/td&gt;
      &lt;td&gt;Swedish&lt;/td&gt;
      &lt;td&gt;611&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;top-10-proofreaders&quot;&gt;Top 10 proofreaders:&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt; &lt;/th&gt;
      &lt;th&gt;Translator&lt;/th&gt;
      &lt;th&gt;Language&lt;/th&gt;
      &lt;th&gt;# Words&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1.&lt;/td&gt;
      &lt;td&gt;xymarior&lt;/td&gt;
      &lt;td&gt;Portuguese&lt;/td&gt;
      &lt;td&gt;5563&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2.&lt;/td&gt;
      &lt;td&gt;MartinsZB&lt;/td&gt;
      &lt;td&gt;Latvian&lt;/td&gt;
      &lt;td&gt;3470&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3.&lt;/td&gt;
      &lt;td&gt;ggedamed&lt;/td&gt;
      &lt;td&gt;Romanian&lt;/td&gt;
      &lt;td&gt;1304&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4.&lt;/td&gt;
      &lt;td&gt;marionetarh&lt;/td&gt;
      &lt;td&gt;Spanish&lt;/td&gt;
      &lt;td&gt;789&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5.&lt;/td&gt;
      &lt;td&gt;mortenborg&lt;/td&gt;
      &lt;td&gt;Danish&lt;/td&gt;
      &lt;td&gt;762&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;6.&lt;/td&gt;
      &lt;td&gt;xabigar&lt;/td&gt;
      &lt;td&gt;Basque&lt;/td&gt;
      &lt;td&gt;674&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;7.&lt;/td&gt;
      &lt;td&gt;DaoKakao&lt;/td&gt;
      &lt;td&gt;Russian&lt;/td&gt;
      &lt;td&gt;632&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;8.&lt;/td&gt;
      &lt;td&gt;extendus&lt;/td&gt;
      &lt;td&gt;Swedish&lt;/td&gt;
      &lt;td&gt;611&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;9.&lt;/td&gt;
      &lt;td&gt;lolypop000&lt;/td&gt;
      &lt;td&gt;Slovenian&lt;/td&gt;
      &lt;td&gt;607&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10.&lt;/td&gt;
      &lt;td&gt;filipfilipovic&lt;/td&gt;
      &lt;td&gt;Croatian&lt;/td&gt;
      &lt;td&gt;607&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;A big applause to them!&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;fully-translated-languages&quot;&gt;Fully translated languages&lt;/h2&gt;

&lt;p&gt;PrestaShop was fully available (= 100% translated and validated) in 10 languages:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Croatian&lt;/li&gt;
  &lt;li&gt;English&lt;/li&gt;
  &lt;li&gt;French&lt;/li&gt;
  &lt;li&gt;German&lt;/li&gt;
  &lt;li&gt;Norwegian&lt;/li&gt;
  &lt;li&gt;Persian&lt;/li&gt;
  &lt;li&gt;Portuguese&lt;/li&gt;
  &lt;li&gt;Russian&lt;/li&gt;
  &lt;li&gt;Slovenian&lt;/li&gt;
  &lt;li&gt;Swedish&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;translated-languages&quot;&gt;99% translated languages&lt;/h2&gt;

&lt;p&gt;… and almost fully translated (and validated) in the following 7 languages:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Dutch&lt;/li&gt;
  &lt;li&gt;Indonesian&lt;/li&gt;
  &lt;li&gt;Italian&lt;/li&gt;
  &lt;li&gt;Lithuanian&lt;/li&gt;
  &lt;li&gt;Polish&lt;/li&gt;
  &lt;li&gt;Portuguese BR&lt;/li&gt;
  &lt;li&gt;Spanish&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Among which Indonesian is a newcomer, &lt;strong&gt;well done to our Indonesian translators&lt;/strong&gt;!&lt;/p&gt;

&lt;h2 id=&quot;languages-with-the-best-evolution&quot;&gt;Languages with the best evolution&lt;/h2&gt;

&lt;p&gt;In comparison with the previous month, these languages had the best progress in May:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Basque (+27% to reach 19% translated)&lt;/li&gt;
  &lt;li&gt;Latvian (+18% to reach 32% translated)&lt;/li&gt;
  &lt;li&gt;Chinese (Trad.) (+5% to reach 59% translated)&lt;/li&gt;
  &lt;li&gt;Slovak (+4% to reach 75% translated)&lt;/li&gt;
  &lt;li&gt;Vietnamese (+ 2% to reach 42% translated)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/Build_Crowdin_progress_may15.png&quot; alt=&quot;May 2015 best translation progress&quot; /&gt;&lt;/p&gt;

&lt;p&gt;A big applause to all our contributors for the hard work!&lt;/p&gt;

&lt;h2 id=&quot;languages-that-need-more-proofreaders&quot;&gt;Languages that need (more) proofreaders&lt;/h2&gt;

&lt;p&gt;As you might know a translated string will not be available in PrestaShop as long as it is not validated. For this reason, it’s important we should keep a good level of validated strings vs translated string, to make sure everyone benefit from the latest translations!&lt;/p&gt;

&lt;p&gt;These languages need you as proofreaders as well:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Turkish (89% translated vs 0% validated)&lt;/li&gt;
  &lt;li&gt;Slovak (75% vs 25%)&lt;/li&gt;
  &lt;li&gt;Ukrainian (92% vs 48%)&lt;/li&gt;
  &lt;li&gt;Vietnamese (42% vs 16%)&lt;/li&gt;
  &lt;li&gt;Hungarian (96% vs 80%)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/06/Build_Crowdin_proofreading_may15.png&quot; alt=&quot;May 2015 best translation progress&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If you wish to help proofreading what has been translated, please &lt;a href=&quot;https://crowdin.com/profile/alex-even&quot;&gt;contact me on Crowdin&lt;/a&gt; with the language you’d like to proofread.&lt;/p&gt;

&lt;h2 id=&quot;a-word-from-the-community&quot;&gt;A word from the community&lt;/h2&gt;

&lt;p&gt;Some members are trying to gather the translating community to harmonize the translation effort.&lt;/p&gt;

&lt;h4 id=&quot;spanish&quot;&gt;Spanish&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;oMega&lt;/strong&gt; has &lt;a href=&quot;https://crowdin.com/project/prestashop-official/discussions/213&quot;&gt;started a discussion&lt;/a&gt; on the Crowdin project (Discussions tab, “Coordinate Spanish translation efforts”). Join him to make sure we all work in the same direction!&lt;/p&gt;

&lt;h4 id=&quot;romanian&quot;&gt;Romanian&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ggedamed&lt;/strong&gt; has &lt;a href=&quot;https://www.prestashop.com/forums/topic/338148-romani-votati-ne-trebuie-reguli-de-traducere-turul-1/&quot;&gt;created a topic&lt;/a&gt; on our forum to harmonize the Romanian translation. Talk with him to make things even better!&lt;/p&gt;

&lt;h2 id=&quot;miscellaneous&quot;&gt;Miscellaneous&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;80 contributors&lt;/strong&gt; joined the project this month, for a &lt;strong&gt;total of 1,869 members&lt;/strong&gt; at the end of May.
60 members (including PrestaShop employees) were active on the project this month.
A total of &lt;strong&gt;28,470 words have been translated&lt;/strong&gt; and 21,925 validated, in 36 different languages - this is huge! &lt;/p&gt;

&lt;p&gt;We can’t thank you enough!&lt;/p&gt;

&lt;p&gt;If you haven’t joined us on Crowdin yet, &lt;a href=&quot;https://crowdin.com/project/prestashop-official&quot;&gt;it’s still time&lt;/a&gt;!
If you want to gather your fellow translators to work towards a better harmonization (let’s dream a bit), do let us know, we’ll include a word in the next monthly report.
A question, a remark? Don’t hesitate to leave a comment. &lt;/p&gt;

&lt;p&gt;See you next month!&lt;/p&gt;

</description>
        <pubDate>Thu, 18 Jun 2015 12:29:47 +0200</pubDate>
        <link>http://build.prestashop.com/news/do-you-speak-prestashop-may-2015-edition/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/do-you-speak-prestashop-may-2015-edition/</guid>
        
        <category>translation</category>
        
        <category>i18n</category>
        
        <category>l10n</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>PrestaShop Core Weekly - Week 23</title>
        <description>&lt;p&gt;Hi again! This edition of the Core Weekly report highlights changes in PrestaShop core codebase during the last week, from Monday 1st to Sunday 7th of June, 2015.&lt;/p&gt;

&lt;h2 id=&quot;milestones&quot;&gt;Milestones&lt;/h2&gt;

&lt;p&gt;Yesterday was &lt;a href=&quot;http://www.prestashopday.com/&quot;&gt;PrestaShop Day&lt;/a&gt;, THE yearly event for the PrestaShop community! We met many of you, learnt a lot, and got to tell about our plans for the future – among which &lt;a href=&quot;http://build.prestashop.com/news/new-architecture-1-6-1-0/&quot;&gt;the new architecture&lt;/a&gt;, and most importantly, &lt;a href=&quot;https://www.prestashop.com/blog/en/prestashop-launches-1000000-integration-fund-community/&quot;&gt;PrestaShop’s Integration Fund&lt;/a&gt;, for which the company will dedicate $1,000,000 to the Community to build more local modules! Developers, this is your chance to shine!&lt;/p&gt;

&lt;p&gt;Also, version 1.6.1.0-rc4 was released earlier this week! Help us test it! &lt;a href=&quot;http://build.prestashop.com/news/prestashop-1.6.1.0-rc4/&quot;&gt;Read all about it here&lt;/a&gt;! Test, test, test!&lt;/p&gt;

&lt;p&gt;In the News department, after choosing to &lt;a href=&quot;http://build.prestashop.com/news/prestashop-moves-to-psr-2/&quot;&gt;change our Coding Standards to PSR-2&lt;/a&gt;, we are &lt;a href=&quot;http://build.prestashop.com/news/a-more-semantic-versioning-scheme/&quot;&gt;adopting a SemVer-like versioning scheme&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Of note among the merged PRs in the last weeks&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;In PR 3090, Core developer Julien Martin (Shudrum) rewrote the way the maintenance message is displayed, made it translatable (finally!), and added two new admin hooks to control its display.&lt;/li&gt;
  &lt;li&gt;In PR 3142, product manager François-Marie de Jouvencel (djfm) added 5 languages to the installer: Bulgarian, Croatian, Lithuanian, Slovene, and Swedish!&lt;/li&gt;
  &lt;li&gt;In PR 3079, Core developer Gregory Roussac (gRoussac) added the ability to edit the caption of product images.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;code-changes&quot;&gt;Code changes&lt;/h2&gt;

&lt;p&gt;Let’s review the merged pull-requests since the last Core Weekly report!&lt;/p&gt;

&lt;p&gt;As always, click on the PR’s number to open its page on GitHub.&lt;/p&gt;

&lt;h4 id=&quot;text-fixes&quot;&gt;Text fixes&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3133&quot;&gt;3133&lt;/a&gt;: Wording change in blocktopmenu, by maximebiloe.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;front-office&quot;&gt;Front office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3090&quot;&gt;3090&lt;/a&gt;: New message for maintenance mode, by Shudrum.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3137&quot;&gt;3137&lt;/a&gt;: preview layout for disabled product, by maximebiloe.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3143&quot;&gt;3143&lt;/a&gt;: images.tpl - wording, by AlexEven.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3149&quot;&gt;3149&lt;/a&gt;: Fix typo in function name, by xBorderie.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;back-office&quot;&gt;Back office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3123&quot;&gt;3123&lt;/a&gt;: Undefined javascript variable, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3116&quot;&gt;3116&lt;/a&gt;: disable modals on login page, fix some php notices. Thank you kelu95!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3141&quot;&gt;3141&lt;/a&gt;: Fix category creation during import, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3079&quot;&gt;3079&lt;/a&gt;: Ability to edit images legends, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3144&quot;&gt;3144&lt;/a&gt;: Remove caption selection with one image, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3148&quot;&gt;3148&lt;/a&gt;: Install specific modules for hosted shops, by Quetzacoalt91.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;core&quot;&gt;Core&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3112&quot;&gt;3112&lt;/a&gt;: Fix missing language identifier, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3115&quot;&gt;3115&lt;/a&gt;: Fix order change state issue, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3121&quot;&gt;3121&lt;/a&gt;: Update Core to fix advancedeucompliance issues, by tchauviere.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3122&quot;&gt;3122&lt;/a&gt;: New line replacement fix. Thank you BrunoJunior!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3078&quot;&gt;3078&lt;/a&gt;: Fix wrong product count in getSuppliers function. Thank you Uebix!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;unit-tests&quot;&gt;Unit tests&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3094&quot;&gt;3094&lt;/a&gt;: Tests : Added test for shipping with PS_ATCP_SHIPWRAP, by djfm.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;modules&quot;&gt;Modules&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3130&quot;&gt;3130&lt;/a&gt;: Update price on voucher delete in blockcart module, by maximebiloe.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;installer&quot;&gt;Installer&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3126&quot;&gt;3126&lt;/a&gt;: CSS update, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3139&quot;&gt;3139&lt;/a&gt;: Change CNIL info, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3142&quot;&gt;3142&lt;/a&gt;: Added Bulgarian, Croatian, Lithuanian, Slovene, Swedish, by djfm.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3145&quot;&gt;3145&lt;/a&gt;: Update /de/install.php. Thank you, Nobodaddy!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;See all the PRs merged into the codebase since May the 18th  &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pulls?page=2&amp;amp;q=is%3Apr+merged%3A%3E2015-06-01+is%3Aclosed+sort%3Aupdated&amp;amp;utf8=%E2%9C%93&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thank you to our contributors whose Pull Requests were merged: &lt;a href=&quot;https://github.com/BrunoJunior&quot;&gt;BrunoJunior&lt;/a&gt;, &lt;a href=&quot;https://github.com/kelu95&quot;&gt;kelu95&lt;/a&gt;, &lt;a href=&quot;https://github.com/gskema&quot;&gt;gskema&lt;/a&gt;, &lt;a href=&quot;https://github.com/Uebix&quot;&gt;Uebix&lt;/a&gt;, and &lt;a href=&quot;https://github.com/Nobodaddy&quot;&gt;Nobodaddy&lt;/a&gt;. Also, thank you to the contributors whose PRs haven’t been merged yet! And of course, a big thank you to all those who contribute with tickets on the Forge!&lt;/p&gt;

&lt;p&gt;If you want to contribute to PrestaShop with code, read those:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;…and if you do not know how to fix an issue but wish to report it, read this: &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;How to use the Forge to contribute to PrestaShop&lt;/a&gt;. Thank you!&lt;/p&gt;

&lt;p&gt;Happy contributin’ everyone!&lt;/p&gt;
</description>
        <pubDate>Fri, 12 Jun 2015 20:29:47 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-core-weekly-weeks-23/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-core-weekly-weeks-23/</guid>
        
        <category>core-weekly</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>Test PrestaShop 1.6.1.0 RC4!</title>
        <description>&lt;p&gt;We’ve had a lot of great feedback from the community following the &lt;a href=&quot;http://build.prestashop.com/news/prestashop-1-6-1-0-rc3/&quot;&gt;release of the RC3 of PrestaShop 1.6.1.0&lt;/a&gt;. The team is hard at work improving this version and fixing things that were discovered since then.&lt;/p&gt;

&lt;p&gt;Now it’s time for MORE TESTING! This fourth Release Candidate version brings a lot of notable changes, among which &lt;a href=&quot;http://build.prestashop.com/news/new-architecture-1-6-1-0/&quot;&gt;the new architecture&lt;/a&gt;, and the &lt;a href=&quot;https://github.com/PrestaShop/advancedeucompliance&quot;&gt;Advanced EU Compliance module&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As a reminder, &lt;strong&gt;this software is still in development&lt;/strong&gt;, so we don’t recommend you to run it on a production store. Consider setting up a test site just to play with the new version. You can &lt;a href=&quot;https://www.prestashop.com/download/private/prestashop_1.6.1.0-RC4.zip&quot;&gt;download PrestaShop 1.6.1.0 RC4 here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;We NEED you to test this version&lt;/strong&gt;, helping us make sure that it is the most reliable one ever!&lt;/p&gt;

&lt;p&gt;We aim for a late June release of the final version of PrestaShop 1.6.1.0, or early-July at worse – and depending on feedback. A lot is still moving in the codebase, but the core developers will switch to full-testing/fixing mode by the end of the week.&lt;/p&gt;

&lt;p&gt;Apart from &lt;strong&gt;testing your modules and themes&lt;/strong&gt; (and I cannot stress this enough!) and &lt;strong&gt;checking the tax/ecotax calculation improvements&lt;/strong&gt;, here are some of the areas which you can help us double-check:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Performance&lt;/strong&gt;. Most notably on category display, the whole product page, and on the importer.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Invoice templates&lt;/strong&gt;. Slight tinkering here and there. Print some!&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Back-office orders&lt;/strong&gt;. Price calculation should work in even the most complex situations.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And many other tiny things have been improved since RC3. &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/compare/4736d851ef90b1e3f5706c9a298e6376cd30683d...cefd154575c85594510a47d08fe0b77bed868eda&quot;&gt;See all the commits here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;And, as always, please keep a fresh eye on those:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Back office design&lt;/strong&gt;. There might be some quirks here and there: let us know!&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Search&lt;/strong&gt;. It has been improved in many places. Try it in multishop and/or multilang context too!&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Installer&lt;/strong&gt;. Install this version in various situations: locally, on your online hostings, on new versions of PHP/MySQL, on old versions of PHP/MySQL, etc.! We need to make sure it works on as many platforms as possible.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Upgrade&lt;/strong&gt;. STILL VERY IMPORTANT! The automatic upgrade module is &lt;a href=&quot;https://github.com/PrestaShop/autoupgrade/commits/dev&quot;&gt;constantly being improved upon&lt;/a&gt;, so have a go at it from v1.6.0.14, from v1.6.0.8, from v1.5.6.2, from v1.5.0.17, etc. You get the idea :)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Developers, designers, agencies: please please please &lt;strong&gt;test your modules, test your themes, test your clients’ override code&lt;/strong&gt;, clone your clients’ stores and try to upgrade them, etc. Make sure it works for you and your clients!&lt;/p&gt;

&lt;p&gt;Again, DO NOT UPDATE YOUR REAL STORE! Version 1.6.1.0 RC4 is &lt;strong&gt;not marked as production ready&lt;/strong&gt;, so if you do, do it at your own risk.&lt;/p&gt;

&lt;p&gt;If you want to really test the thing, make a copy of your real store and update &lt;em&gt;that&lt;/em&gt; copy to 1.6.1.0 RC3. Then, do the whole process of adding a product, buying a product, installing a theme, changing settings, etc.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;If you think you’ve found a bug/issue&lt;/strong&gt;, you can let us know about it on &lt;a href=&quot;http://forge.prestashop.com/&quot;&gt;the Forge&lt;/a&gt;, PrestaShop’s bug-tracker. Make sure to present the steps to reproduce the bug/issue! &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;Read this page for more information on how to use the Forge&lt;/a&gt;, especially the last part, “Best practices for writing an issue”.&lt;/p&gt;

&lt;p&gt;If you are a developer and you know how to fix an issue, open a Pull Request on &lt;a href=&quot;https://github.com/prestashop/prestashop&quot;&gt;PrestaShop’s GitHub page&lt;/a&gt;, on the 1.6 branch (NOT the master branch)! And remember to read these:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Happy testing, and thank you for your help!&lt;/p&gt;

&lt;p class=&quot;text-center&quot;&gt;&lt;a href=&quot;https://www.prestashop.com/download/private/prestashop_1.6.1.0-RC4.zip&quot; class=&quot;btn btn-lg btn-success&quot;&gt;Test PrestaShop 1.6.1.0 RC4&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 09 Jun 2015 21:29:47 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-1.6.1.0-rc4/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-1.6.1.0-rc4/</guid>
        
        <category>1.6.1.x</category>
        
        <category>version</category>
        
        <category>rc</category>
        
        <category>releases</category>
        
        <category>development</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>A more semantic versioning scheme</title>
        <description>&lt;p&gt;The upcoming version 1.6.1.0 represents an opportunity for us to make a lot of good changes for both the project and the community, as you may have noticed recently.&lt;/p&gt;

&lt;p&gt;One thing that’s been bugging us for quite some time (and most probably users, developers, etc.) is the way PrestaShop’s version numbers are handled — in that they are not really handled as much as rarely consistent.&lt;/p&gt;

&lt;p&gt;Let’s see for instance what happened in &lt;a href=&quot;https://www.prestashop.com/en/developers-versions/changelog/1.6.0.14&quot;&gt;the last few versions of the 1.6.x branch&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;1.6.0.7: Many bugfixes, many improvements, a few new features.&lt;/li&gt;
  &lt;li&gt;1.6.0.8: Several bugfixes, a few improvements.&lt;/li&gt;
  &lt;li&gt;1.6.0.9: Many bugfixes, many improvements, a few new features.&lt;/li&gt;
  &lt;li&gt;1.6.0.10: Internal version, never publicly released.&lt;/li&gt;
  &lt;li&gt;1.6.0.11: Many bugfixes, many improvements, several new features.&lt;/li&gt;
  &lt;li&gt;1.6.0.12: Many bugfixes, several improvements and some new features.&lt;/li&gt;
  &lt;li&gt;1.6.0.13: 2 bugfixes.&lt;/li&gt;
  &lt;li&gt;1.6.0.14: 1 bugfix.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;See where I’m going with this? Looking only at the version numbers, you can never tell if a new version contains a few useful corrections, or if it brings many cool features, or if it changes the database schema or the whole system. It’s not easy to know if it is a simple update, or a complex one. It’s not clear if it’s going to be business as usual, or if you’ll have to rework your themes/modules.&lt;/p&gt;

&lt;p&gt;In short, it’s difficult to know, just by looking at the version number, whether it’s a minor or a major version.&lt;/p&gt;

&lt;p&gt;This has been going on for too long, and we’re taking the opportunity of the release of our new major version, v1.6.1.0, to improve the way we number our versions of PrestaShop.&lt;/p&gt;

&lt;p&gt;From version 1.6.1.0 onward, we are moving towards SemVer.&lt;/p&gt;

&lt;h3 id=&quot;semwhat&quot;&gt;SemWhat?!&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://semver.org/&quot;&gt;SemVer&lt;/a&gt;, short for Semantic Versioning, is a specification by Gravatar co-founder and GitHub ex-CEO Tom Preston-Werner. In its latest incarnation (v2.0.0), it describes its proposed versioning scheme as follows:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Given a version number MAJOR.MINOR.PATCH, increment the:&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;MAJOR version when you make incompatible API changes,&lt;/li&gt;
    &lt;li&gt;MINOR version when you add functionality in a backwards-compatible manner, and&lt;/li&gt;
    &lt;li&gt;PATCH version when you make backwards-compatible bug fixes.&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The most important point of SemVer is the predictability of potential breakage: looking at the version number, you know from the get-go whether that new version contains bugfixes; or bugfixes and features; or bugfixes, features and potentially impacting changes from the previous major version.&lt;/p&gt;

&lt;p&gt;Version numbers become more coherent, updates become more predictable, and developers know when to check for impacts on their modules, themes or clients’ stores!&lt;/p&gt;

&lt;h3 id=&quot;how-will-it-apply-to-prestashop-version-numbering&quot;&gt;How will it apply to PrestaShop version numbering?&lt;/h3&gt;

&lt;p&gt;In the SemVer description, change “incompatible API changes” to “backwards compatible” and you will get the point: changes that have an impact on module/theme development will be limited to major versions only. Developers and designers won’t have to worry about whether or not they need to update their code for minor or patch versions.&lt;/p&gt;

&lt;p&gt;The thing is, PrestaShop has long had version numbers that span four numerals, whereas SemVer requires projects to use 3 numerals. For instance, the current version is 1.6.0.14, and the coming version is 1.6.1.0. That is why we chose to move &lt;em&gt;towards&lt;/em&gt; SemVer, modifying it slightly instead of adopting it as-is. We will need to adapt SemVer to our historical way of versioning keeping the four numerals.&lt;/p&gt;

&lt;p&gt;This means that version numbers will be based on 1.MAJOR.MINOR.PATCH. And we keep the possibility to switch to 2.0.0.0 on the day something rrrrrreally extra major happens :)&lt;/p&gt;

&lt;h3 id=&quot;so-when-will-the-numerals-change&quot;&gt;So, when will the numerals change?&lt;/h3&gt;

&lt;p&gt;1.6.1.0 is the forthcoming major version, which should be released in the coming weeks. It brings a few changes in the way things work internally but it keeps all retrocompatibility intact, so modules and themes that worked with 1.6.0.14 will continue to work with 1.6.1.0.&lt;/p&gt;

&lt;p&gt;Starting with 1.6.1.0, new versions of PrestaShop will use the new SemVer-inspired numbering scheme.&lt;/p&gt;

&lt;p&gt;What this means is:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The next bugfix-only version (or “patch” version) will be v1.6.1.1, then if we need more, v1.6.1.2, v1.6.1.3, etc.&lt;/li&gt;
  &lt;li&gt;The next version which brings retrocompatible changes (or “minor” version) will be 1.6.2.0. It will also contain bugfixes.&lt;/li&gt;
  &lt;li&gt;The next version which brings incompatible changes (or “major” version) will be 1.7.0.0. It will also contain retrocompatible changes and bugfixes. Also, the incompatible changes might be few and minor, but SemVer has strict rules…&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Adopting this SemVer-inspired numbering scheme, version numbers will be much more consistent and coherent, the need for 3rd-party developers to update their code will be more predictable, and the whole community will get a better understanding of what an upgrade might imply.&lt;/p&gt;

&lt;h3 id=&quot;what-about-the-coming-new-architecture&quot;&gt;What about the coming new architecture?&lt;/h3&gt;

&lt;p&gt;Since you read this blog every day (don’t you?), you know that &lt;a href=&quot;http://build.prestashop.com/news/new-architecture-1-6-1-0/&quot;&gt;we are working on a new architecture for PrestaShop&lt;/a&gt;, with the first bits having landed in v1.6.1.0 already. It will take some time and some API changes, but once it’s final, users and developers/designers will benefit from a much more robust codebase, without us having to rewrite everything from scratch :)&lt;/p&gt;

&lt;h3 id=&quot;so-does-that-mean-1700-is-coming-soon&quot;&gt;So does that mean 1.7.0.0 is coming soon?&lt;/h3&gt;

&lt;p&gt;Yes! Thanks to the new architecture, currently in the works, it might even be coming before winter of 2015! :)&lt;/p&gt;

&lt;p&gt;What about 1.8.0.0? Well, maybe sooner than it took between 1.5 and 1.6!&lt;/p&gt;

&lt;h3 id=&quot;so-you-are-planning-to-impact-backward-compatibility-regularly&quot;&gt;So you are planning to impact backward-compatibility regularly?&lt;/h3&gt;

&lt;p&gt;Not at all! 2015 is a special year, where a lot of things are getting better, and where we prepare for the future of PrestaShop.&lt;/p&gt;

&lt;p&gt;Also, note that if a major version could potentially impact compatibility under SemVer’s strict wording, it doesn’t mean that the whole ecosystem of themes and modules will effectively break! It simply means that parts of the API have changed, and these changes will be documented long before the major version is released!&lt;/p&gt;

&lt;h3 id=&quot;what-about-security-updates&quot;&gt;What about security updates?&lt;/h3&gt;

&lt;p&gt;Security updates, if there are any, are fixed in patch versions. Patch versions are released as fast as possible.&lt;/p&gt;

&lt;p&gt;Patch versions fix critical bugs and security issues (which are more or less the same thing). They might also fix some trivial bugs, but the point of a patch version is to fix problematic issues, not to close non-critical Forge tickets.&lt;/p&gt;

&lt;p&gt;Eventually, once we have proven that upgrading to a patch version is seamless for developers and designers, and beneficial for the whole community, we plan on implementing automatic background updates for patch versions: if there’s a critical issue in the software, PrestaShop will be able to update itself as soon as the fix is available on our servers, and you will wake up to an email from your store telling you that it just got better and safer during the night! Of course, a module would be able to disable that feature — but that’s another discussion we will have!&lt;/p&gt;

&lt;h3 id=&quot;what-about-the-database&quot;&gt;What about the database?&lt;/h3&gt;

&lt;p&gt;SemVer applies mostly to the way the code works. But the database is also a critical part of PrestaShop, and in past years the Core team updated it as needed.&lt;/p&gt;

&lt;p&gt;With our SemVer-like versioning, the database will never be updated in patch versions. Tables and rows might be &lt;em&gt;added&lt;/em&gt; to it in minor versions, but &lt;em&gt;none of the existing ones shall be changed&lt;/em&gt;. Only a major version might change existing tables, rows and indexes.&lt;/p&gt;

&lt;h3 id=&quot;alright-alright-i-get-it-its-better-so-when-is-1610-coming&quot;&gt;Alright, alright, I get it, it’s better! So, when is 1.6.1.0 coming?&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://build.prestashop.com/news/prestashop-1-6-1-0-rc3/&quot;&gt;1.6.1.0-rc3 was released 2 weeks ago&lt;/a&gt;, 1.6.0.1-rc4 should be released this week, other RC versions might be released as needed, depending on the feedback from the community.&lt;/p&gt;

&lt;p&gt;We plan on releasing the stable version of PrestaShop 1.6.1.0 by the end of June, or early-July. Until then, please help us make it the most robust version ever released!&lt;/p&gt;

</description>
        <pubDate>Mon, 08 Jun 2015 19:56:00 +0200</pubDate>
        <link>http://build.prestashop.com/news/a-more-semantic-versioning-scheme/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/a-more-semantic-versioning-scheme/</guid>
        
        <category>version</category>
        
        <category>versioning</category>
        
        <category>semver</category>
        
        <category>semantic</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>PrestaShop Core Weekly - Weeks 21 &amp; 22</title>
        <description>&lt;p&gt;This edition of the Core Weekly report highlights changes in PrestaShop core codebase during the last two weeks, from Monday 18th of May to Sunday 31st of May, 2015.&lt;/p&gt;

&lt;p&gt;May is a short/quick month in Paris, and I was quite absent in the last few days, while projects here were many. In short, sorry for the lateness of this edition of Core Weekly – which consequently spans two weeks instead of one, again. Back to our normal schedule next week!&lt;/p&gt;

&lt;h2 id=&quot;milestones&quot;&gt;Milestones&lt;/h2&gt;

&lt;p&gt;Version 1.6.1.0-rc3 was released last week! Help us test it! &lt;a href=&quot;http://build.prestashop.com/news/prestashop-1-6-1-0-rc3/&quot;&gt;Read all about it here&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://www.prestashop.com/forums/topic/434831-psr2-development-norm-for-prestashop/&quot;&gt;PSR-2 survey&lt;/a&gt; is closed, and the participants chose to follow through! &lt;a href=&quot;http://build.prestashop.com/news/prestashop-moves-to-psr-2/&quot;&gt;Consequently, we’re adopting PSR-2 from 1.6.1.0 onward&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Of note among the merged PRs in the last two weeks:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;As announced in &lt;a href=&quot;http://build.prestashop.com/news/new-architecture-1-6-1-0/&quot;&gt;a previous post on this blog&lt;/a&gt;, the new architecture of PrestaShop is being worked on, and the first elements were merge into Core through PR 3053. A lot of thanks for djfm (François-Marie De Jouvencel), tchauviere (Thibaud Chauvière) and mdomenjoud (Michel Domenjoud) for the huge work that has been accomplished so far! There is still a long road to follow, and we call on the whole community to spread the word and help us achieve this goal!&lt;/li&gt;
  &lt;li&gt;In PR 3061, core developer sfroment42 (Sacha Froment) allowed the use of &amp;lt;style&amp;gt; in the email editor (TinyMCE).&lt;/li&gt;
  &lt;li&gt;In PR 3067, contributor frederic-benoist (Frédéric Benoist) added a cleanHtml modifier to Smarty Add in order to prevent XSS injections.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;code-changes&quot;&gt;Code changes&lt;/h2&gt;

&lt;p&gt;Let’s review the merged pull-requests from the previous two weeks!&lt;/p&gt;

&lt;p&gt;As always, click on the PR’s number to open its page on GitHub.&lt;/p&gt;

&lt;h4 id=&quot;text-fixes&quot;&gt;Text fixes&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3020&quot;&gt;3020&lt;/a&gt;: PDF : Update delivery-slip.tpl. Thank you Nobodaddy!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3064&quot;&gt;3064&lt;/a&gt;: AdminOutstandingController - wording, by AlexEven.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3054&quot;&gt;3054&lt;/a&gt;: blockwishlist - wording, by AlexEven.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3110&quot;&gt;3110&lt;/a&gt;: BO - Wording, by AlexEven.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;front-office&quot;&gt;Front office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3041&quot;&gt;3041&lt;/a&gt;: minimal quantity on add to cart button. Thank you vAugagneur!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3047&quot;&gt;3047&lt;/a&gt;: order-detail / see order reference even if the re-order is disabled. Thank you PrestaEdit!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2862&quot;&gt;2862&lt;/a&gt;: fatal error in guest OPC, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2844&quot;&gt;2844&lt;/a&gt;: wrong condition for shipping message, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3066&quot;&gt;3066&lt;/a&gt;: refresh shipping cost when delayed shipping, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3071&quot;&gt;3071&lt;/a&gt;: Prevent errors after page redirect. Thank you rolandschuetz!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;back-office&quot;&gt;Back office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3030&quot;&gt;3030&lt;/a&gt;: Dashboard filter date update, by maximebiloe.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3033&quot;&gt;3033&lt;/a&gt;: Adding shop name when not in multistore, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3036&quot;&gt;3036&lt;/a&gt;: Fix issue with checkbox / radio button in the category tree, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2971&quot;&gt;2971&lt;/a&gt;: Admin module’s position page updated, by Shudrum.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3037&quot;&gt;3037&lt;/a&gt;: correct employee permission, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3038&quot;&gt;3038&lt;/a&gt;: correct processsave return, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2941&quot;&gt;2941&lt;/a&gt;: default DateMonth selection in dashboard graph, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3059&quot;&gt;3059&lt;/a&gt;: Set preselect month range as default, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2951&quot;&gt;2951&lt;/a&gt;: limit results for customers search in BO, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3008&quot;&gt;3008&lt;/a&gt;: Display rights warnings while updating a language pack, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3063&quot;&gt;3063&lt;/a&gt;: Fix Catalog prices rules shop group context, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3069&quot;&gt;3069&lt;/a&gt;: Fix issue with multiple cart rules, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3074&quot;&gt;3074&lt;/a&gt;: Optimize Theme::getByDirectory method query. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2955&quot;&gt;2955&lt;/a&gt;: fix ‘undefined’ on images upload, by gRoussac.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;core&quot;&gt;Core&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3040&quot;&gt;3040&lt;/a&gt;: Remove language cache on localization install, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3043&quot;&gt;3043&lt;/a&gt;: Change spaces for tabs, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3045&quot;&gt;3045&lt;/a&gt;: Typographical error. Thank you joseantgv!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2909&quot;&gt;2909&lt;/a&gt;: allow camelcase to be norm-compliant for modules, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3055&quot;&gt;3055&lt;/a&gt;: Correct appearance of warning, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3056&quot;&gt;3056&lt;/a&gt;: static error in php 5.2, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2781&quot;&gt;2781&lt;/a&gt;: allow &amp;lt;style&amp;gt; in email, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3058&quot;&gt;3058&lt;/a&gt;: revert 2781, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3060&quot;&gt;3060&lt;/a&gt;: PHPDoc for Customer:searchByName(), by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3065&quot;&gt;3065&lt;/a&gt;: correct query syntax error, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3061&quot;&gt;3061&lt;/a&gt;: allow &amp;lt;style&amp;gt; in email, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3081&quot;&gt;3081&lt;/a&gt;: Fixed issue with newInstanceArgs on PHP 5.3, by djfm.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3087&quot;&gt;3087&lt;/a&gt;: Performances : Lazy cache should use the local cache, when possible, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3053&quot;&gt;3053&lt;/a&gt;: Can I Haz a new Core?, by djfm, tchauviere, mdomenjoud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3091&quot;&gt;3091&lt;/a&gt;: Update new CORE : Fixes, by tchauviere and djfm.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3088&quot;&gt;3088&lt;/a&gt;: need to recalculate depth only when current depth as changed, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3101&quot;&gt;3101&lt;/a&gt;: Performances - flush cache to avoid storing too big arrays, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3104&quot;&gt;3104&lt;/a&gt;: Optimize searchByName performances, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3106&quot;&gt;3106&lt;/a&gt;: Performances - improve search reindex performance with cache enabled, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3107&quot;&gt;3107&lt;/a&gt;: Performances - remove SQL_NO_CACHE from specificPrice, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3111&quot;&gt;3111&lt;/a&gt;: Performances - disable cache during import, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3019&quot;&gt;3019&lt;/a&gt;: set tax correctly with specific price, julienbourdeau.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;unit-tests&quot;&gt;Unit tests&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2776&quot;&gt;2776&lt;/a&gt;: loadSlaves() now uses dynamic constants, by tchauviere.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3070&quot;&gt;3070&lt;/a&gt;: Update PrestaShopAutoload unit test, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2882&quot;&gt;2882&lt;/a&gt;: Added Travis build status img in README.md, by tchauviere.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;modules&quot;&gt;Modules&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3022&quot;&gt;3022&lt;/a&gt;: productscategory module title fix, by maximebiloe.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;smarty&quot;&gt;Smarty&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3067&quot;&gt;3067&lt;/a&gt;: Add new cleanHtml modifier. Thank you frederic-benoist!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;pdf&quot;&gt;PDF&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3032&quot;&gt;3032&lt;/a&gt;: Keep invoice and delivery address for invoicing, by julienbourdeau.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3062&quot;&gt;3062&lt;/a&gt;: Fix product lines, summary and notax label, by julienbourdeau.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3068&quot;&gt;3068&lt;/a&gt;: Invoice - remove total products after discounts, by julienbourdeau.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;installer&quot;&gt;Installer&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3029&quot;&gt;3029&lt;/a&gt;: Update active shops, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3044&quot;&gt;3044&lt;/a&gt;: Wrong PHP_VERSION, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3072&quot;&gt;3072&lt;/a&gt;: Missing picture + wording, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3083&quot;&gt;3083&lt;/a&gt;: Installer wording, by jeromenadaud.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;multistore&quot;&gt;Multistore&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3028&quot;&gt;3028&lt;/a&gt;: Multistore option rebranding, by jeromenadaud.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;See all the PRs merged into the codebase since May the 18th  &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pulls?page=1&amp;amp;pulls_only=true&amp;amp;q=is%3Apr+merged%3A%3E2015-05-18+is%3Aclosed+sort%3Aupdated&amp;amp;utf8=%E2%9C%93&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thank you to our contributors whose Pull Requests were merged: &lt;a href=&quot;https://github.com/frederic-benoist&quot;&gt;frederic-benoist&lt;/a&gt;, &lt;a href=&quot;https://github.com/gskema&quot;&gt;gskema&lt;/a&gt;, &lt;a href=&quot;https://github.com/joseantgv&quot;&gt;joseantgv&lt;/a&gt;, &lt;a href=&quot;https://github.com/Nobodaddy&quot;&gt;Nobodaddy&lt;/a&gt;, &lt;a href=&quot;https://github.com/PrestaEdit&quot;&gt;PrestaEdit&lt;/a&gt;, &lt;a href=&quot;https://github.com/rolandschuetz&quot;&gt;rolandschuetz&lt;/a&gt;, and &lt;a href=&quot;https://github.com/vAugagneur&quot;&gt;vAugagneur&lt;/a&gt;. Also, thank you to the contributors whose PRs haven’t been merged yet! And of course, a big thank you to all those who contribute with tickets on the Forge!&lt;/p&gt;

&lt;p&gt;If you want to contribute to PrestaShop with code, read those:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;…and if you do not know how to fix an issue but wish to report it, read this: &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;How to use the Forge to contribute to PrestaShop&lt;/a&gt;. Thank you!&lt;/p&gt;

&lt;p&gt;Until the next Core Weekly report, let me know if I forgot something here, or if you have ideas about how to improve this report!&lt;/p&gt;

&lt;p&gt;Happy contributin’ everyone!&lt;/p&gt;
</description>
        <pubDate>Fri, 05 Jun 2015 18:29:47 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-core-weekly-weeks-21-22/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-core-weekly-weeks-21-22/</guid>
        
        <category>core-weekly</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>PrestaShop &amp;&amp; the PSR-2 coding style guide</title>
        <description>&lt;p&gt;We are planning to switch to PSR-2, here is the why, the how and the when!&lt;/p&gt;

&lt;h3 id=&quot;the-current-situation&quot;&gt;The current situation&lt;/h3&gt;

&lt;p&gt;PrestaShop currently uses its own &lt;a href=&quot;http://doc.prestashop.com/display/PS16/Coding+Standards&quot;&gt;Coding Standards&lt;/a&gt;, based on &lt;a href=&quot;http://www.php-fig.org/psr/psr-1/&quot;&gt;PSR-1&lt;/a&gt;, with a few adaptations for historical reasons.&lt;/p&gt;

&lt;p&gt;For a long time, we’ve wanted to move to a more generally-accepted coding standard. PrestaShop is loved by its community and we love our community, and we wanted to adopt a common coding standard in order to ease code contribution.&lt;/p&gt;

&lt;p&gt;There are a few coding standards in use: &lt;a href=&quot;https://pear.php.net/manual/en/standards.php&quot;&gt;PHP’s PEAR project has its own&lt;/a&gt;, &lt;a href=&quot;http://framework.zend.com/manual/current/en/ref/coding.standard.html&quot;&gt;the Zend Framework has one&lt;/a&gt;, &lt;a href=&quot;https://make.wordpress.org/core/handbook/coding-standards/php/&quot;&gt;WordPress has one too&lt;/a&gt;, &lt;a href=&quot;https://www.drupal.org/coding-standards&quot;&gt;Drupal derives its standard from the PEAR one&lt;/a&gt;, …and then there is the &lt;a href=&quot;https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-1-basic-coding-standard.md&quot;&gt;PSR-1 coding standard&lt;/a&gt;, along with the &lt;a href=&quot;https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md&quot;&gt;PSR-2 coding style guide&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;PSR-1 and PSR-2, named “Basic Coding Standard” and “Coding Style Guide”, were conceived by the PHP Framework Interop Group, an informal group of representatives from major PHP projects, which offers a place to “talk about the commonalities between our projects and find ways we can work together” (&lt;a href=&quot;http://www.php-fig.org/faq/&quot;&gt;see the FAQ&lt;/a&gt;). The group issues a series of standards (PSRs, or PHP Standard Recommendation) on how to best build a PHP project.&lt;/p&gt;

&lt;p&gt;We started a &lt;a href=&quot;https://www.prestashop.com/forums/topic/434831-psr2-development-norm-for-prestashop/&quot;&gt;poll about moving the PrestaShop codebase to PSR-2&lt;/a&gt; (and therefore PSR-1 too) back on April 1st, and the result was clearly positive: 84.62% of the respondents agreed that this was a good idea!&lt;/p&gt;

&lt;p&gt;So, time to prepare for that move!&lt;/p&gt;

&lt;h3 id=&quot;when-will-it-happen-and-how&quot;&gt;When will it happen, and how?&lt;/h3&gt;

&lt;h4 id=&quot;state-of-the-current-code&quot;&gt;1. State of the current code&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;http://build.prestashop.com/news/new-architecture-1-6-1-0/&quot;&gt;PrestaShop’s planned new architecture&lt;/a&gt; already follows the PSR-2 coding style. For instance, check &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/blob/1.6/Core/Business/Payment/Core_Business_Payment_PaymentOption.php&quot;&gt;the new Core_Business_Payment_PaymentOption.php class&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For the remaining PrestaShop core code (classes, controllers, etc.), we will start moving all files from the PrestaShop coding standards to PSR-2 once PrestaShop 1.6.1.0 has been released.&lt;/p&gt;

&lt;p&gt;Please be bear with us, as there might bugs along the way: changing coding style is not automatic, and it will be a way for us to revise some old code and make the whole codebase stronger.&lt;/p&gt;

&lt;p&gt;In any case, you can participate to this project just by making a pull request! Please have a look at &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/blob/1.6/CONTRIBUTING.md&quot;&gt;PrestaShop contribution process&lt;/a&gt; in order to help us move things faster and with more confidence! We will need code contributors, but also reviewers and testers!&lt;/p&gt;

&lt;h4 id=&quot;start-of-the-psr-2-era&quot;&gt;2. Start of the PSR-2 era&lt;/h4&gt;

&lt;p&gt;In effect, from the moment PrestaShop 1.6.1.0 is released, the &lt;strong&gt;next pull requests will HAVE TO follow the PSR-1 and PSR-2 standards&lt;/strong&gt;. Update your tools and methods!&lt;/p&gt;

&lt;h4 id=&quot;about-pull-requests-that-are-currently-waiting-for-a-code-review&quot;&gt;3. About pull requests that are currently waiting for a code review&lt;/h4&gt;

&lt;p&gt;Many pull requests were written before we announced the project to move to PSR-2.&lt;/p&gt;

&lt;p&gt;Don’t worry, we will merge them as-is, and correct their use of PSR-2 afterwards ourselves.&lt;/p&gt;

&lt;p&gt;Obviously, you are more than welcome to upgrade your PRs to PSR-2 yourself :)&lt;/p&gt;

&lt;h4 id=&quot;about-existing-prestashop-modules&quot;&gt;4. About existing PrestaShop modules&lt;/h4&gt;

&lt;p&gt;All existing modules’ contributors have worked hard to follow the PrestaShop Coding Standards over the years.&lt;/p&gt;

&lt;p&gt;The fact that PrestaShop is changing and is going to use a common coding standard doesn’t mean existing modules will suddenly stop being valid!&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://validator.prestashop.com&quot;&gt;PrestaShop validator&lt;/a&gt; will not reject modules if they follow the old standard for quite some time.&lt;/p&gt;

&lt;p&gt;For your future modules, please follow the PSR-2 coding standards: this will benefit the whole community.&lt;/p&gt;

&lt;h3 id=&quot;the-main-differences-between-the-current-norm-and-psr-2&quot;&gt;The main differences between the current norm and PSR-2&lt;/h3&gt;

&lt;p&gt;Now it is time to see where the PrestaShop Coding Standards and PSR-2 differ.&lt;/p&gt;

&lt;div class=&quot;alert alert-important&quot; role=&quot;alert&quot;&gt;&lt;h4&gt;&lt;i class=&quot;fa fa-exclamation-triangle&quot;&gt;&lt;/i&gt; Important&lt;/h4&gt;
&lt;p&gt;At the time of writing, namespaces and closures are not allowed, because we first need to announce the switch to PHP 5.4 as the minimum version supported by PrestaShop.&lt;/p&gt;

&lt;p&gt;This will be announced very soon, and applied in the coming year.&lt;/p&gt;
&lt;/div&gt;

&lt;h4 id=&quot;lines&quot;&gt;1. Lines&lt;/h4&gt;

&lt;p&gt;The soft limit on line length MUST be 120 characters; automated style checkers MUST warn but MUST NOT error at the soft limit.&lt;/p&gt;

&lt;h4 id=&quot;keywords&quot;&gt;2. Keywords&lt;/h4&gt;

&lt;p&gt;The PHP constants true, false, and null MUST be in lower case.&lt;/p&gt;

&lt;h4 id=&quot;properties&quot;&gt;3. Properties&lt;/h4&gt;

&lt;p&gt;Property names SHOULD NOT be prefixed with a single underscore to indicate protected or private visibility.&lt;/p&gt;

&lt;h4 id=&quot;methods&quot;&gt;4. Methods&lt;/h4&gt;

&lt;p&gt;Method names SHOULD NOT be prefixed with a single underscore to indicate protected or private visibility.&lt;/p&gt;

&lt;h4 id=&quot;conditions&quot;&gt;5. Conditions&lt;/h4&gt;

&lt;h5 id=&quot;if-elseif-else&quot;&gt;5.1. if, elseif, else&lt;/h5&gt;

&lt;p&gt;An &lt;code&gt;if&lt;/code&gt; structure looks like the following. Note the placement of parenthesis, spaces, and braces; and that &lt;code&gt;else&lt;/code&gt; and &lt;code&gt;elseif&lt;/code&gt; are on the same line as the closing brace from the earlier body.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$expr1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// if body&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;elseif&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$expr2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// elseif body&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// else body;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;switch-case&quot;&gt;5.2. switch, case&lt;/h5&gt;

&lt;p&gt;A &lt;code&gt;switch&lt;/code&gt; structure looks like the following. Note the placement of parenthesis, spaces, and braces. The case statement MUST be indented once from switch, and the break keyword (or other terminating keyword) MUST be indented at the same level as the case body. There MUST be a comment such as &lt;code&gt;// no break&lt;/code&gt; when fall-through is intentional in a non-empty case body.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;First case, with a break&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Second case, which falls through&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// no break&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Third case, return instead of break&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Default case&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;while-do-while-for-foreach-try-catch&quot;&gt;5.3. while, do while, for, foreach, try, catch&lt;/h5&gt;

&lt;p&gt;A &lt;code&gt;while&lt;/code&gt; statement looks like the following. Note the placement of parenthesis, spaces, and braces.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// structure body&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Similarly, a &lt;code&gt;do while&lt;/code&gt; statement looks like the following. Note the placement of parenthesis, spaces, and braces.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// structure body;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;A &lt;code&gt;for&lt;/code&gt; statement looks like the following. Note the placement of parenthesis, spaces, and braces.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// for body&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;A &lt;code&gt;foreach&lt;/code&gt; statement looks like the following. Note the placement of parenthesis, spaces, and braces.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$iterable&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// foreach body&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;A try catch block looks like the following. Note the placement of parenthesis, spaces, and braces.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// try body&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;FirstExceptionType&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// catch body&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;OtherExceptionType&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// catch body&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;end-of-an-era-beginning-of-a-new-one&quot;&gt;End of an era, beginning of a new one!&lt;/h3&gt;

&lt;p&gt;The switch to PSR-2 is just another mark of the changes that are happening at PrestaShop. More exciting things are coming, stay tuned!&lt;/p&gt;

&lt;p&gt;If you have any question about this switch, let us know in the comments!&lt;/p&gt;
</description>
        <pubDate>Wed, 03 Jun 2015 20:54:00 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-moves-to-psr-2/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-moves-to-psr-2/</guid>
        
        <category>PSR-2</category>
        
        <category>Norm</category>
        
        <category>PHP-FIG</category>
        
        <category>Coding Standards</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>Architecture Improvements in 1.6.1.0</title>
        <description>&lt;p&gt;With the release of PrestaShop 1.6.1.0 we are going to introduce exciting new tools in the codebase that are designed to help write more modular, testable code that enforces &lt;a href=&quot;http://en.wikipedia.org/wiki/Separation_of_concerns&quot;&gt;separation of concerns&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We are releasing our work on the software architecture of PrestaShop to start discussing it with our community, gather ideas and feedback, and improve it together.&lt;/p&gt;

&lt;p&gt;Since we are introducing many new concepts we felt a few explanations were in order.&lt;/p&gt;

&lt;h2 id=&quot;the-plan&quot;&gt;The Plan&lt;/h2&gt;

&lt;p&gt;The driving idea behind this project is that we want our code to be more robust.&lt;/p&gt;

&lt;p&gt;To be robust, code needs unit tests. To have unit tests, code needs to be modular. To write modular code, we need a few tools. The recent changes provide some of these tools, which will be enriched in the coming months.&lt;/p&gt;

&lt;p&gt;First of all, don’t panic. We are not breaking anything (yet). We’re just adding new abstraction layers that are primarily meant to be used by new code.&lt;/p&gt;

&lt;p&gt;As much as possible, new features will be implemented using the elements from the new architecture. Old code will benefit from the new components where they provide an obvious improvement but we have no intent to systematically rewrite legacy code and move it to the new architecture. This is not a 2.0 version, but a (big) step to bring PrestaShop up to speed.&lt;/p&gt;

&lt;p&gt;Besides architecture improvements, our plan for the coming year includes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;adopting the PSR-2 norm&lt;/li&gt;
  &lt;li&gt;switching to PHP 5.4 (namespaces, closures…!)&lt;/li&gt;
  &lt;li&gt;switching to composer for dependency management (no more submodules!)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Stay tuned!&lt;/p&gt;

&lt;h2 id=&quot;disclaimer&quot;&gt;Disclaimer&lt;/h2&gt;

&lt;p&gt;Before getting into more details we want to insist on the fact that the architecture changes we have introduced are at this stage still a work in progress.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The code is production ready, but the APIs may change in the near future.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;You’re of course welcome to experiment with the new classes and services, but please be warned there will likely be short notice breaking changes in the coming months.&lt;/p&gt;

&lt;p&gt;If in doubt, do not directly depend on code in the &lt;code&gt;Core&lt;/code&gt; of &lt;code&gt;Adapter&lt;/code&gt; folders.&lt;/p&gt;

&lt;h2 id=&quot;new-directories-in-the-source-tree&quot;&gt;New Directories in the Source Tree&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;PrestaShop/
    |-- Core/
    |    |-- Foundation/
    |    └-- Business/
    |-- Adapter/
    └-- *Legacy*/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Two new top-level directories were added to the source tree, &lt;code&gt;Core&lt;/code&gt; and &lt;code&gt;Adapter&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Code in the &lt;code&gt;Core&lt;/code&gt; directory is what we refer to when we say “the new architecture”.&lt;/p&gt;

&lt;p&gt;There are two main requirements for all the code in &lt;code&gt;Core&lt;/code&gt; :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Code in &lt;code&gt;Core&lt;/code&gt; MUST HAVE &lt;em&gt;meaningful&lt;/em&gt; unit tests&lt;/li&gt;
  &lt;li&gt;Code in &lt;code&gt;Core&lt;/code&gt; MUST BE modular
    &lt;ul&gt;
      &lt;li&gt;no hidden dependencies: use Dependency Injection&lt;/li&gt;
      &lt;li&gt;as a general rule, NO global variables use, direct or indirect (e.g. no access to &lt;code&gt;$_GET&lt;/code&gt; so no &lt;code&gt;Tools::getValue()&lt;/code&gt;)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The code in &lt;code&gt;Adapter&lt;/code&gt; serves as a bridge between the &lt;code&gt;Core&lt;/code&gt; and the legacy parts. Code in &lt;code&gt;Core&lt;/code&gt; MAY call into legacy code, but only through an &lt;code&gt;Adapter&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Currently we’re using pseudo-namespaces, which leads to cumbersome class names like &lt;code&gt;Core_Foundation_Database_EntityManager&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;They will be replaced as soon as possible with proper namespaces, so:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code&gt;Core_Foundation_Database_EntityManager&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;will soon become:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code&gt;Core\Foundation\Database\EntityManager&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;which will improve readability a lot. Please bear with us for a little longer :)&lt;/p&gt;

&lt;h2 id=&quot;key-new-software-components&quot;&gt;Key New Software Components&lt;/h2&gt;

&lt;h3 id=&quot;dependency-injection&quot;&gt;Dependency Injection&lt;/h3&gt;

&lt;p&gt;To better manage the many dependencies between components inside PrestaShop, we introduced an Inversion Of Control component (class &lt;code&gt;Core_Foundation_IoC_Container&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;The job of the &lt;code&gt;Core_Foundation_IoC_Container&lt;/code&gt; class is to store all of the application-wide services (like the database, the configuration…) and pass them on to other components that need them.&lt;/p&gt;

&lt;p&gt;Services are bound to the container at the very early stage of the application initialization (&lt;code&gt;config/bootstrap.php&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;At the moment you mostly access the IoC container through the Service Locator.&lt;/p&gt;

&lt;p&gt;For instance:  &lt;code&gt;Adapter_ServiceLocator::get(&#39;Core_Foundation_Database_DatabaseInterface&#39;)&lt;/code&gt; will retrieve the instance of the database from the container.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;In the future, Adapter_ServiceLocator will no longer be needed. The IoC container will be threaded down from the application bootstrapping code to the controllers layer and controllers will pull their dependencies from the container directly. Using the &lt;code&gt;Adapter_ServiceLocator&lt;/code&gt; is a temporary measure that enables us to work with the concepts from the new architecture without the need for risky refactoring.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The dependency injection component is already used in one very interesting place: module constructors.&lt;/p&gt;

&lt;p&gt;Now if you declare a dependency in your module constructor, it will be injected into your module automatically.&lt;/p&gt;

&lt;p&gt;This helps make modules safer, because they can specify to the application which components they need to do their work.&lt;/p&gt;

&lt;p&gt;For instance, let’s say I need access to the database for my module.&lt;/p&gt;

&lt;p&gt;Instead of writing things like:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MyModule&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Module&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// initialization code&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getSomeData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Where does Db come from?!&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;Db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;executeS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;SELECT x FROM Y&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You can now write:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MyModule&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Module&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Core_Foundation_Database_DatabaseInterface&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// initialization code&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;db&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getSomeData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;SELECT x FROM Y&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;There are several benefits to the new approach:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;no access to global variables&lt;/li&gt;
  &lt;li&gt;easier to test: you can &lt;code&gt;new&lt;/code&gt; the module and pass a database mock to it&lt;/li&gt;
  &lt;li&gt;people reading the code know immediately what kind of dependencies the module needs&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;entity-repositories&quot;&gt;Entity Repositories&lt;/h3&gt;

&lt;p&gt;In PrestaShop many &lt;code&gt;ObjectModel&lt;/code&gt; subclasses implement methods to retrieve models from the database according to some criteria.
The methods are not generic even though they perform very generic tasks.&lt;/p&gt;

&lt;p&gt;For instance in &lt;code&gt;CountryCore&lt;/code&gt; you can find this method:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getByIso&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$iso_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$active&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Validate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isLanguageIsoCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$iso_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;die&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Tools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;displayError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_PS_USE_SQL_SLAVE_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;        SELECT `id_country`&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;        FROM `&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_DB_PREFIX_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;country`&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;        WHERE `iso_code` = \&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pSQL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;strtoupper&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$iso_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;\&amp;#39;&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$active&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; AND active = 1&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;id_country&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Which is not needed any longer thanks to the generic entity retrieving capabilities provided by the new &lt;code&gt;EntityRepository&lt;/code&gt; class:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$countryRepository&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$entityManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRepository&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;Country&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$country&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$countryRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findOneBy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;iso_code&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;us&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;active&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In the code above, you can get access to the &lt;code&gt;$entityManager&lt;/code&gt; either by declaring it as a dependency in your constructor if you’re inside a module, or using the service locator if there is really no better way to pass the dependency:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;nx&quot;&gt;Adapter_ServiceLocator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;Core_Foundation_Database_EntityManager&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Again, &lt;code&gt;Adapter_ServiceLocator&lt;/code&gt; will eventually disappear from the API. You should only use it where you cannot do proper dependency injection.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Currently, entity repositories support the following methods:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;findOne($id)&lt;/code&gt; : finds an entity by its primary key&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;findOneByXYZ($XYZFieldValue)&lt;/code&gt; : finds zero or one entity&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;findByXYZ($XYZFieldValue)&lt;/code&gt; : finds zero or more entities&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;findOneBy(array $conditions)&lt;/code&gt; : finds zero or one entity that matches all of the passed conditions&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;findOneBy(array $conditions)&lt;/code&gt; : finds zero or more entities that match all of the passed conditions&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;It remains to be decided how to fit the more complex parts of our ORM into this abstraction: language fields, multishop fields. Ideas?&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Going forward, we want to move all of the SQL queries out of the entity (&lt;code&gt;ObjectModel&lt;/code&gt;) classes and into repository classes (or dedicated service classes for more complex tasks that involve different types of entities).&lt;/p&gt;

&lt;p&gt;We want models to be as small as possible and &lt;code&gt;EntityRepository&lt;/code&gt;s provide a great way to separate the database interaction layer from the business code.&lt;/p&gt;

&lt;p&gt;For database interaction in general, we are considering a hybrid DataMapper / ActiveRecord pattern where &lt;code&gt;EntityRepository&lt;/code&gt;s would be used to retrieve models from the database but where we would still have a &lt;code&gt;save&lt;/code&gt; method on models that persists them to the database.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;We now have some of the building blocks we need to create more robust code with confidence.&lt;/p&gt;

&lt;p&gt;We’re releasing these new technical features knowing that they will need to be improved upon and nothing is set in stone yet.&lt;/p&gt;

&lt;p&gt;Please feel free to comment, share any concerns you may have, or &lt;a href=&quot;https://github.com/PrestaShop&quot;&gt;join us on GitHub&lt;/a&gt; and contribute!&lt;/p&gt;

&lt;p&gt;More articles and examples from the new architecture will follow.&lt;/p&gt;
</description>
        <pubDate>Thu, 21 May 2015 21:13:37 +0200</pubDate>
        <link>http://build.prestashop.com/news/new-architecture-1-6-1-0/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/new-architecture-1-6-1-0/</guid>
        
        <category>releases</category>
        
        <category>architecture</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>About PrestaShop 1.6.1.0: test the latest RC!</title>
        <description>&lt;p&gt;Some of you might know about it, while it will certainly be news for many others: the team has been hard at work on a new release of PrestaShop Download these past few months. The successor to version 1.6.0.14 will not be 1.6.0.15, but 1.6.1.0.&lt;/p&gt;

&lt;p&gt;This is the first of several articles we have in store about version 1.6.1.0.&lt;/p&gt;

&lt;p&gt;Today, after many tests internally and with close partners, we are releasing v1.6.1.0 Release Candidate 3.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;This software is still in development&lt;/strong&gt;, so we don’t recommend you to run it on a production store. Consider setting up a test site just to play with the new version. You can &lt;a href=&quot;http://prestashop.com/download/private/prestashop_1.6.1.0.zip&quot;&gt;download PrestaShop 1.6.1.0 RC3 here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The release of 1.6.1.0 RC3 marks the start of the public test phase. &lt;strong&gt;We NEED you to test this version&lt;/strong&gt;, helping us make sure that it is the most reliable one ever!&lt;/p&gt;

&lt;p&gt;We aim for an early June release of the final version of PrestaShop 1.6.1.0. A lot is still moving in the codebase, but the core developers will switch to full-testing/fixing mode by the end of the week.&lt;/p&gt;

&lt;p&gt;Here are a few things to watch:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Performance&lt;/strong&gt;. A LOT of work has been done to improve the overall performance of PrestaShop. In most situations, it has never been this fast! Most notably, a lot has been done on category display, the whole product page and on the importer.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Design&lt;/strong&gt;. The back office has been revamped. There might be some quirks here and there: let us know!&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Price and tax calculations&lt;/strong&gt;. Again, a lot of work has been done in this area. If you have weird product prices and promotion schemes, try them out! Specific prices, cart rules, eco-tax, with or without tax, etc.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Invoices&lt;/strong&gt;. Check the new invoice template in your various configurations and needs! See if what it displays is consistent with the order!&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Search&lt;/strong&gt;. It has been improved in many places. Try it in multishop and/or multilang context too!&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Installer&lt;/strong&gt;. Install this version in various situations: locally, on your online hostings, on new versions of PHP/MySQL, on old versions of PHP/MySQL, etc.! We need to make sure it works on as many platforms as possible.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Upgrade&lt;/strong&gt;. HOLY ZEUS THAT IS IMPORTANT! The automatic upgrade module is constantly being improved upon, so have a go at it from v1.6.0.14, from v1.6.0.8, from v1.5.6.2, from v1.5.0.17, etc. You get the idea :)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Developers, designers, agencies: please please please test your modules, test your themes, test your clients’ override code, clone your clients’ stores and try to upgrade them, etc. Make sure it works for you and your clients!&lt;/p&gt;

&lt;p&gt;We’re going to test this version thoroughly on many systems and between many versions for the next couple of weeks, but there’s nothing better than real feedback from real users!&lt;/p&gt;

&lt;p&gt;Again, DO NOT UPDATE YOUR REAL STORE! Version 1.6.1.0 RC3 is &lt;strong&gt;not marked as production ready&lt;/strong&gt;, so if you do, do it at your own risk.
If you want to really test the thing, make a copy of your real store and update &lt;em&gt;that&lt;/em&gt; copy to 1.6.1.0 RC3. Then, do the whole process of adding a product, buying a product, installing a theme, changing settings, etc.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;If you think you’ve found a bug/issue&lt;/strong&gt;, you can let us know about it on &lt;a href=&quot;http://forge.prestashop.com/&quot;&gt;the Forge&lt;/a&gt;, PrestaShop’s bug-tracker. Make sure to present the steps to reproduce the bug/issue! &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;Read this page for more information on how to use the Forge&lt;/a&gt;, especially the last part, “Best practices for writing an issue”.&lt;/p&gt;

&lt;p&gt;If you are a developer and you know how to fix an issue, open a Pull Request on &lt;a href=&quot;https://github.com/prestashop/prestashop&quot;&gt;PrestaShop’s GitHub page&lt;/a&gt;, on the 1.6 branch (NOT the master branch)! And remember to read these:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Happy testing, and thank you for your help!&lt;/p&gt;

&lt;p class=&quot;text-center&quot;&gt;&lt;a href=&quot;http://prestashop.com/download/private/prestashop_1.6.1.0.zip&quot; class=&quot;btn btn-lg btn-success&quot;&gt;Test PrestaShop 1.6.1.0 RC3&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Thu, 21 May 2015 20:29:47 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-1-6-1-0-rc3/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-1-6-1-0-rc3/</guid>
        
        <category>1.6.1.x</category>
        
        <category>version</category>
        
        <category>rc</category>
        
        <category>releases</category>
        
        <category>development</category>
        
        
        <category>news</category>
        
      </item>
    
  </channel>
</rss>
