<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>PrestaShop Developers&#39; blog</title>
    <description>Official blog for PrestaShop development straight from the product and core dev team.</description>
    <link>http://build.prestashop.com/</link>
    <atom:link href="http://build.prestashop.com/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Fri, 22 May 2015 13:51:02 +0200</pubDate>
    <lastBuildDate>Fri, 22 May 2015 13:51:02 +0200</lastBuildDate>
    <generator>Jekyll v2.4.0</generator>
    
      <item>
        <title>Architecture Improvements in 1.6.1.0</title>
        <description>&lt;p&gt;With the release of PrestaShop 1.6.1.0 we are going to introduce exciting new tools in the codebase that are designed to help write more modular, testable code that enforces &lt;a href=&quot;http://en.wikipedia.org/wiki/Separation_of_concerns&quot;&gt;separation of concerns&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We are releasing our work on the software architecture of PrestaShop to start discussing it with our community, gather ideas and feedback, and improve it together.&lt;/p&gt;

&lt;p&gt;Since we are introducing many new concepts we felt a few explanations were in order.&lt;/p&gt;

&lt;h2 id=&quot;the-plan&quot;&gt;The Plan&lt;/h2&gt;

&lt;p&gt;The driving idea behind this project is that we want our code to be more robust.&lt;/p&gt;

&lt;p&gt;To be robust, code needs unit tests. To have unit tests, code needs to be modular. To write modular code, we need a few tools. The recent changes provide some of these tools, which will be enriched in the coming months.&lt;/p&gt;

&lt;p&gt;First of all, don’t panic. We are not breaking anything (yet). We’re just adding new abstraction layers that are primarily meant to be used by new code.&lt;/p&gt;

&lt;p&gt;As much as possible, new features will be implemented using the elements from the new architecture. Old code will benefit from the new components where they provide an obvious improvement but we have no intent to systematically rewrite legacy code and move it to the new architecture. This is not a 2.0 version, but a (big) step to bring PrestaShop up to speed.&lt;/p&gt;

&lt;p&gt;Besides architecture improvements, our plan for the coming year includes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;adopting the PSR-2 norm&lt;/li&gt;
  &lt;li&gt;switching to PHP 5.4 (namespaces, closures…!)&lt;/li&gt;
  &lt;li&gt;switching to composer for dependency management (no more submodules!)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Stay tuned!&lt;/p&gt;

&lt;h2 id=&quot;disclaimer&quot;&gt;Disclaimer&lt;/h2&gt;

&lt;p&gt;Before getting into more details we want to insist on the fact that the architecture changes we have introduced are at this stage still a work in progress.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The code is production ready, but the APIs may change in the near future.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;You’re of course welcome to experiment with the new classes and services, but please be warned there will likely be short notice breaking changes in the coming months.&lt;/p&gt;

&lt;p&gt;If in doubt, do not directly depend on code in the &lt;code&gt;Core&lt;/code&gt; of &lt;code&gt;Adapter&lt;/code&gt; folders.&lt;/p&gt;

&lt;h2 id=&quot;new-directories-in-the-source-tree&quot;&gt;New Directories in the Source Tree&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;PrestaShop/
    |-- Core/
    |    |-- Foundation/
    |    └-- Business/
    |-- Adapter/
    └-- *Legacy*/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Two new top-level directories were added to the source tree, &lt;code&gt;Core&lt;/code&gt; and &lt;code&gt;Adapter&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Code in the &lt;code&gt;Core&lt;/code&gt; directory is what we refer to when we say “the new architecture”.&lt;/p&gt;

&lt;p&gt;There are two main requirements for all the code in &lt;code&gt;Core&lt;/code&gt; :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Code in &lt;code&gt;Core&lt;/code&gt; MUST HAVE &lt;em&gt;meaningful&lt;/em&gt; unit tests&lt;/li&gt;
  &lt;li&gt;Code in &lt;code&gt;Core&lt;/code&gt; MUST BE modular
    &lt;ul&gt;
      &lt;li&gt;no hidden dependencies: use Dependency Injection&lt;/li&gt;
      &lt;li&gt;as a general rule, NO global variables use, direct or indirect (e.g. no access to &lt;code&gt;$_GET&lt;/code&gt; so no &lt;code&gt;Tools::getValue()&lt;/code&gt;)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The code in &lt;code&gt;Adapter&lt;/code&gt; serves as a bridge between the &lt;code&gt;Core&lt;/code&gt; and the legacy parts. Code in &lt;code&gt;Core&lt;/code&gt; MAY call into legacy code, but only through an &lt;code&gt;Adapter&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Currently we’re using pseudo-namespaces, which leads to cumbersome class names like &lt;code&gt;Core_Foundation_Database_EntityManager&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;They will be replaced as soon as possible with proper namespaces, so:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code&gt;Core_Foundation_Database_EntityManager&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;will soon become:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code&gt;Core\Foundation\Database\EntityManager&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;which will improve readability a lot. Please bear with us for a little longer :)&lt;/p&gt;

&lt;h2 id=&quot;key-new-software-components&quot;&gt;Key New Software Components&lt;/h2&gt;

&lt;h3 id=&quot;dependency-injection&quot;&gt;Dependency Injection&lt;/h3&gt;

&lt;p&gt;To better manage the many dependencies between components inside PrestaShop, we introduced an Inversion Of Control component (class &lt;code&gt;Core_Foundation_IoC_Container&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;The job of the &lt;code&gt;Core_Foundation_IoC_Container&lt;/code&gt; class is to store all of the application-wide services (like the database, the configuration…) and pass them on to other components that need them.&lt;/p&gt;

&lt;p&gt;Services are bound to the container at the very early stage of the application initialization (&lt;code&gt;config/bootstrap.php&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;At the moment you mostly access the IoC container through the Service Locator.&lt;/p&gt;

&lt;p&gt;For instance:  &lt;code&gt;Adapter_ServiceLocator::get(&#39;Core_Foundation_Database_DatabaseInterface&#39;)&lt;/code&gt; will retrieve the instance of the database from the container.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;In the future, Adapter_ServiceLocator will no longer be needed. The IoC container will be threaded down from the application bootstrapping code to the controllers layer and controllers will pull their dependencies from the container directly. Using the &lt;code&gt;Adapter_ServiceLocator&lt;/code&gt; is a temporary measure that enables us to work with the concepts from the new architecture without the need for risky refactoring.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The dependency injection component is already used in one very interesting place: module constructors.&lt;/p&gt;

&lt;p&gt;Now if you declare a dependency in your module constructor, it will be injected into your module automatically.&lt;/p&gt;

&lt;p&gt;This helps make modules safer, because they can specify to the application which components they need to do their work.&lt;/p&gt;

&lt;p&gt;For instance, let’s say I need access to the database for my module.&lt;/p&gt;

&lt;p&gt;Instead of writing things like:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MyModule&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Module&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// initialization code&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getSomeData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Where does Db come from?!&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;Db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;executeS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;SELECT x FROM Y&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You can now write:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MyModule&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Module&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Core_Foundation_Database_DatabaseInterface&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// initialization code&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;db&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getSomeData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;SELECT x FROM Y&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;There are several benefits to the new approach:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;no access to global variables&lt;/li&gt;
  &lt;li&gt;easier to test: you can &lt;code&gt;new&lt;/code&gt; the module and pass a database mock to it&lt;/li&gt;
  &lt;li&gt;people reading the code know immediately what kind of dependencies the module needs&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;entity-repositories&quot;&gt;Entity Repositories&lt;/h3&gt;

&lt;p&gt;In PrestaShop many &lt;code&gt;ObjectModel&lt;/code&gt; subclasses implement methods to retrieve models from the database according to some criteria.
The methods are not generic even though they perform very generic tasks.&lt;/p&gt;

&lt;p&gt;For instance in &lt;code&gt;CountryCore&lt;/code&gt; you can find this method:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getByIso&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$iso_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$active&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Validate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isLanguageIsoCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$iso_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;die&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Tools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;displayError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_PS_USE_SQL_SLAVE_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;        SELECT `id_country`&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;        FROM `&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_DB_PREFIX_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;country`&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;        WHERE `iso_code` = \&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pSQL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;strtoupper&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$iso_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;\&amp;#39;&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$active&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; AND active = 1&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;id_country&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Which is not needed any longer thanks to the generic entity retrieving capabilities provided by the new &lt;code&gt;EntityRepository&lt;/code&gt; class:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$countryRepository&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$entityManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRepository&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;Country&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$country&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$countryRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findOneBy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;iso_code&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;us&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;active&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In the code above, you can get access to the &lt;code&gt;$entityManager&lt;/code&gt; either by declaring it as a dependency in your constructor if you’re inside a module, or using the service locator if there is really no better way to pass the dependency:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;nx&quot;&gt;Adapter_ServiceLocator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;Core_Foundation_Database_EntityManager&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Again, &lt;code&gt;Adapter_ServiceLocator&lt;/code&gt; will eventually disappear from the API. You should only use it where you cannot do proper dependency injection.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Currently, entity repositories support the following methods:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;findOne($id)&lt;/code&gt; : finds an entity by its primary key&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;findOneByXYZ($XYZFieldValue)&lt;/code&gt; : finds zero or one entity&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;findByXYZ($XYZFieldValue)&lt;/code&gt; : finds zero or more entities&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;findOneBy(array $conditions)&lt;/code&gt; : finds zero or one entity that matches all of the passed conditions&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;findOneBy(array $conditions)&lt;/code&gt; : finds zero or more entities that match all of the passed conditions&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;It remains to be decided how to fit the more complex parts of our ORM into this abstraction: language fields, multishop fields. Ideas?&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Going forward, we want to move all of the SQL queries out of the entity (&lt;code&gt;ObjectModel&lt;/code&gt;) classes and into repository classes (or dedicated service classes for more complex tasks that involve different types of entities).&lt;/p&gt;

&lt;p&gt;We want models to be as small as possible and &lt;code&gt;EntityRepository&lt;/code&gt;s provide a great way to separate the database interaction layer from the business code.&lt;/p&gt;

&lt;p&gt;For database interaction in general, we are considering a hybrid DataMapper / ActiveRecord pattern where &lt;code&gt;EntityRepository&lt;/code&gt;s would be used to retrieve models from the database but where we would still have a &lt;code&gt;save&lt;/code&gt; method on models that persists them to the database.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;We now have some of the building blocks we need to create more robust code with confidence.&lt;/p&gt;

&lt;p&gt;We’re releasing these new technical features knowing that they will need to be improved upon and nothing is set in stone yet.&lt;/p&gt;

&lt;p&gt;Please feel free to comment, share any concerns you may have, or &lt;a href=&quot;https://github.com/PrestaShop&quot;&gt;join us on GitHub&lt;/a&gt; and contribute!&lt;/p&gt;

&lt;p&gt;More articles and examples from the new architecture will follow.&lt;/p&gt;
</description>
        <pubDate>Thu, 21 May 2015 21:13:37 +0200</pubDate>
        <link>http://build.prestashop.com/news/new-architecture-1-6-1-0/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/new-architecture-1-6-1-0/</guid>
        
        <category>releases</category>
        
        <category>architecture</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>About PrestaShop 1.6.1.0: test the latest RC!</title>
        <description>&lt;p&gt;Some of you might know about it, while it will certainly be news for many others: the team has been hard at work on a new release of PrestaShop Download these past few months. The successor to version 1.6.0.14 will not be 1.6.0.15, but 1.6.1.0.&lt;/p&gt;

&lt;p&gt;This is the first of several articles we have in store about version 1.6.1.0.&lt;/p&gt;

&lt;p&gt;Today, after many tests internally and with close partners, we are releasing v1.6.1.0 Release Candidate 3.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;This software is still in development&lt;/strong&gt;, so we don’t recommend you to run it on a production store. Consider setting up a test site just to play with the new version. You can &lt;a href=&quot;http://prestashop.com/download/private/prestashop_1.6.1.0.zip&quot;&gt;download PrestaShop 1.6.1.0 RC3 here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The release of 1.6.1.0 RC3 marks the start of the public test phase. &lt;strong&gt;We NEED you to test this version&lt;/strong&gt;, helping us make sure that it is the most reliable one ever!&lt;/p&gt;

&lt;p&gt;We aim for an early June release of the final version of PrestaShop 1.6.1.0. A lot is still moving in the codebase, but the core developers will switch to full-testing/fixing mode by the end of the week.&lt;/p&gt;

&lt;p&gt;Here are a few things to watch:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Performance&lt;/strong&gt;. A LOT of work has been done to improve the overall performance of PrestaShop. In most situations, it has never been this fast! Most notably, a lot has been done on category display, the whole product page and on the importer.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Design&lt;/strong&gt;. The back office has been revamped. There might be some quirks here and there: let us know!&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Price and tax calculations&lt;/strong&gt;. Again, a lot of work has been done in this area. If you have weird product prices and promotion schemes, try them out! Specific prices, cart rules, eco-tax, with or without tax, etc.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Invoices&lt;/strong&gt;. Check the new invoice template in your various configurations and needs! See if what it displays is consistent with the order!&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Search&lt;/strong&gt;. It has been improved in many places. Try it in multishop and/or multilang context too!&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Installer&lt;/strong&gt;. Install this version in various situations: locally, on your online hostings, on new versions of PHP/MySQL, on old versions of PHP/MySQL, etc.! We need to make sure it works on as many platforms as possible.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Upgrade&lt;/strong&gt;. HOLY ZEUS THAT IS IMPORTANT! The automatic upgrade module is constantly being improved upon, so have a go at it from v1.6.0.14, from v1.6.0.8, from v1.5.6.2, from v1.5.0.17, etc. You get the idea :)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Developers, designers, agencies: please please please test your modules, test your themes, test your clients’ override code, clone your clients’ stores and try to upgrade them, etc. Make sure it works for you and your clients!&lt;/p&gt;

&lt;p&gt;We’re going to test this version thoroughly on many systems and between many versions for the next couple of weeks, but there’s nothing better than real feedback from real users!&lt;/p&gt;

&lt;p&gt;Again, DO NOT UPDATE YOUR REAL STORE! Version 1.6.1.0 RC3 is &lt;strong&gt;not marked as production ready&lt;/strong&gt;, so if you do, do it at your own risk.
If you want to really test the thing, make a copy of your real store and update &lt;em&gt;that&lt;/em&gt; copy to 1.6.1.0 RC3. Then, do the whole process of adding a product, buying a product, installing a theme, changing settings, etc.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;If you think you’ve found a bug/issue&lt;/strong&gt;, you can let us know about it on &lt;a href=&quot;http://forge.prestashop.com/&quot;&gt;the Forge&lt;/a&gt;, PrestaShop’s bug-tracker. Make sure to present the steps to reproduce the bug/issue! &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;Read this page for more information on how to use the Forge&lt;/a&gt;, especially the last part, “Best practices for writing an issue”.&lt;/p&gt;

&lt;p&gt;If you are a developer and you know how to fix an issue, open a Pull Request on &lt;a href=&quot;https://github.com/prestashop/prestashop&quot;&gt;PrestaShop’s GitHub page&lt;/a&gt;, on the 1.6 branch (NOT the master branch)! And remember to read these:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Happy testing, and thank you for your help!&lt;/p&gt;

&lt;p class=&quot;text-center&quot;&gt;&lt;a href=&quot;http://prestashop.com/download/private/prestashop_1.6.1.0.zip&quot; class=&quot;btn btn-lg btn-success&quot;&gt;Test PrestaShop 1.6.1.0 RC3&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Thu, 21 May 2015 20:29:47 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-1-6-1-0-rc3/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-1-6-1-0-rc3/</guid>
        
        <category>1.6.1.x</category>
        
        <category>version</category>
        
        <category>rc</category>
        
        <category>releases</category>
        
        <category>development</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>PrestaShop Core Weekly - Week 19 &amp; 20</title>
        <description>&lt;p&gt;Another set of short weeks here in Paris, which means another edition of the Core Weekly report that spans two weeks of change to the PrestaShop codebase.&lt;/p&gt;

&lt;p&gt;This edition of the Core Weekly report highlights changes in PrestaShop core codebase during the last two weeks, from Monday 4th of May to Sunday 17th of May, 2015.&lt;/p&gt;

&lt;h2 id=&quot;milestones&quot;&gt;Milestones&lt;/h2&gt;

&lt;p&gt;The PSR-2 survey is still running, &lt;a href=&quot;https://www.prestashop.com/forums/topic/434831-psr2-development-norm-for-prestashop/&quot;&gt;and you can still vote&lt;/a&gt;. It seems pretty settled, though. More updates about this soon!&lt;/p&gt;

&lt;p&gt;Of note among the merged PRs in the last two weeks:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;In &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3007&quot;&gt;3007&lt;/a&gt;, PrestaShop R&amp;amp;D Director Jérôme Nadaud (jeromenadaud) introduced a new style to the back-office and login form of PrestaShop, in accordance to the rebranding currently under way at the PrestaShop company. More about that very soon! The design work was done by PrestaShop’s Lead Product Designer Julie Chabin (syswarren).&lt;/li&gt;
  &lt;li&gt;In &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2967&quot;&gt;2967&lt;/a&gt;, core dev Julien Martin (Shudrum) kept on modifying the email template, removing order_changed.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;code-changes&quot;&gt;Code changes&lt;/h2&gt;

&lt;p&gt;Let’s review last week’s merged pull-requests!&lt;/p&gt;

&lt;p&gt;As always, click on the PR’s number to open its page on GitHub.&lt;/p&gt;

&lt;h4 id=&quot;text-fixes&quot;&gt;Text fixes&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2990&quot;&gt;2990&lt;/a&gt;: Invoice controller - wording, by AlexEven.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3009&quot;&gt;3009&lt;/a&gt;: AdminTaxRulesGroupController - wording dissociation (All), by AlexEven.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;front-office&quot;&gt;Front office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2983&quot;&gt;2983&lt;/a&gt;: input label and input title enhancements. Thank you inetbiz!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2994&quot;&gt;2994&lt;/a&gt;: wrong compass font folder for default-bootstrap. Thank you inetbiz!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3017&quot;&gt;3017&lt;/a&gt;: Remove old 404 image, by jeromenadaud.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;back-office&quot;&gt;Back office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2975&quot;&gt;2975&lt;/a&gt;: Fix memory leak during thumbnail generation, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2976&quot;&gt;2976&lt;/a&gt;: Fix generation of exported themes, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2989&quot;&gt;2989&lt;/a&gt;: Fix error when adding customized product from BO order process. Thank you MaX3315!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2997&quot;&gt;2997&lt;/a&gt;: More detailed error message on themes export, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3010&quot;&gt;3010&lt;/a&gt;: Improved adding to Quick Access. Thank you kpodemski!&lt;/li&gt;
  &lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;core&quot;&gt;Core&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2969&quot;&gt;2969&lt;/a&gt;: Optimize tag count computation, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2967&quot;&gt;2967&lt;/a&gt;: Remove the order_changed email and replace it by a hook, by Shudrum.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2972&quot;&gt;2972&lt;/a&gt;: Better function and variable naming, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2978&quot;&gt;2978&lt;/a&gt;: Flush cache option was not being fully applied within some Cart methods. Thank you eric-rouvier!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2870&quot;&gt;2870&lt;/a&gt;: Fix duplicate $customer object declaration. Thank you samy!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2998&quot;&gt;2998&lt;/a&gt;: Before setting a carrier free you need to check if the cart rule is in the cart, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2993&quot;&gt;2993&lt;/a&gt;: parser error in ajaxProcessProductManufacturers. Thank you el-tenkova!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2992&quot;&gt;2992&lt;/a&gt;: PHPDoc for controller methods. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2991&quot;&gt;2991&lt;/a&gt;: Fix minimal quantity calculation in CartController::processDeleteProductInCart. Thank you djbuch!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2929&quot;&gt;2929&lt;/a&gt;: Adding getter for DB link. Thank you iNem0o!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;modules&quot;&gt;Modules&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2988&quot;&gt;2988&lt;/a&gt;: Images were not shown for bought products, by maximebiloe.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2877&quot;&gt;2877&lt;/a&gt;: Make Module installation handle class constants correctly. Thank you tiennou!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;css&quot;&gt;CSS&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3007&quot;&gt;3007&lt;/a&gt;: Rebranding project, by jeromenadaud, with design input by syswarren.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3015&quot;&gt;3015&lt;/a&gt;: Fix navigation hover on active menu, by jeromenadaud.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;pdf&quot;&gt;PDF&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2985&quot;&gt;2985&lt;/a&gt;: Update supply-order-footer.tpl. Thank you Nobodaddy!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3000&quot;&gt;3000&lt;/a&gt;: Revert “[-] PDF : Update supply-order-footer.tpl”, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3005&quot;&gt;3005&lt;/a&gt;: Fix supply order PDF generation, by julienbourdeau.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3011&quot;&gt;3011&lt;/a&gt;: Add sprintf capability to {l} for PDF, by julienbourdeau.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/3012&quot;&gt;3012&lt;/a&gt;: supply-order-footer.tpl is now translatable, by julienbourdeau.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;multishop&quot;&gt;Multishop&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2962&quot;&gt;2962&lt;/a&gt;: Fix bad results when filtering items in a multishop context, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2996&quot;&gt;2996&lt;/a&gt;: Fix situations where customizations could be errased when updating in multishop context. Thank you djbuch!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;importer&quot;&gt;Importer&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2959&quot;&gt;2959&lt;/a&gt;: Improve import performances, by jocel1.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;See all the PRs merged into the codebase since May the 4th (be with you!) &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pulls?page=1&amp;amp;pulls_only=true&amp;amp;q=is%3Apr+merged%3A%3E2015-05-04+is%3Aclosed+sort%3Aupdated&amp;amp;utf8=%E2%9C%93&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thank you to our contributors for their Pull Requests: &lt;a href=&quot;https://github.com/djbuch&quot;&gt;djbuch&lt;/a&gt;, &lt;a href=&quot;https://github.com/el-tenkova&quot;&gt;el-tenkova&lt;/a&gt;, &lt;a href=&quot;https://github.com/eric-rouvier&quot;&gt;eric-rouvier&lt;/a&gt;, &lt;a href=&quot;https://github.com/gskema&quot;&gt;gskema&lt;/a&gt;, &lt;a href=&quot;https://github.com/iNem0o&quot;&gt;iNem0o&lt;/a&gt;, &lt;a href=&quot;https://github.com/inetbiz&quot;&gt;inetbiz&lt;/a&gt;, &lt;a href=&quot;https://github.com/kpodemski&quot;&gt;kpodemski&lt;/a&gt;, &lt;a href=&quot;https://github.com/MaX3315&quot;&gt;MaX3315&lt;/a&gt;, &lt;a href=&quot;https://github.com/Nobodaddy&quot;&gt;Nobodaddy&lt;/a&gt;, &lt;a href=&quot;https://github.com/samy&quot;&gt;samy&lt;/a&gt;, and &lt;a href=&quot;https://github.com/tiennou&quot;&gt;tiennou&lt;/a&gt;. Also, thank you to the contributors whose PRs haven’t been merged yet! And of course, a big thank you to all those who contribute with tickets on the Forge!&lt;/p&gt;

&lt;p&gt;Remember: if you want to contribute to PrestaShop with code, read those:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;…and if you do not know how to fix an issue but wish to report it, read this: &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;How to use the Forge to contribute to PrestaShop&lt;/a&gt;. Thank you!&lt;/p&gt;

&lt;p&gt;Until the next Core Weekly report, let me know if I forgot something here, or if you have ideas about how to improve this report!&lt;/p&gt;

&lt;p&gt;Happy contributin’ everyone!&lt;/p&gt;
</description>
        <pubDate>Wed, 20 May 2015 20:29:47 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-core-weekly-weeks-19-20/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-core-weekly-weeks-19-20/</guid>
        
        <category>core-weekly</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>How to override modules in PrestaShop</title>
        <description>&lt;p&gt;Since version 1.6.0.11 of PrestaShop, there is a new feature that allows developers to override a module’s instance classes (ie. its main module files, &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2133&quot;&gt;see the PR by @axometeam&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Since PrestaShop uses lots of modules for both core and custom features, module overrides are a welcome addition to an already great override system in PrestaShop. Let’s take a look on how to use it.&lt;/p&gt;

&lt;div class=&quot;alert alert-note&quot; role=&quot;alert&quot;&gt;&lt;h4&gt;&lt;i class=&quot;fa fa-file-text-o&quot;&gt;&lt;/i&gt; Note&lt;/h4&gt;
&lt;p&gt;Remember that overrides in PrestaShop are exclusive. This means that if your module overrides one of PrestaShop’s behaviors, another module will not be able to use that behavior properly, or override it in an predictable way.&lt;/p&gt;

&lt;p&gt;Therefore, overrides should only be used for your own local modules, when you have a specific need that cannot be applied without it.&lt;/p&gt;

&lt;p&gt;It is not recommended to use an override in a module that you intend to distribute (for instance through the PrestaShop Addons marketplace), and they are forbidden in partner modules.&lt;/p&gt;
&lt;/div&gt;

&lt;h2 id=&quot;override-a-modules-instance-class-by-extending-it&quot;&gt;Override a module’s instance class by extending it&lt;/h2&gt;

&lt;p&gt;To override a module’s instance class, you have to extend it, giving the extended class the same name and adding &lt;code&gt;Override&lt;/code&gt; suffix:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/gskema/51aa05a814fa510a2202.js&quot;&gt; &lt;/script&gt;

&lt;p&gt;This file should be put in &lt;code&gt;/override/modules/blockuserinfo/blockuserinfo.php&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;When you manually add an override, do not forget to clean the class reference cache by deleting &lt;code&gt;cache/class_index.php&lt;/code&gt;. The next time PrestaShop loads, it will regenerate &lt;code&gt;class_index.php&lt;/code&gt; and your module override will be active!&lt;/p&gt;

&lt;p&gt;You may even make a module that has overrides for other modules! For example, &lt;code&gt;/modules/mymodule/override/modules/blockuserinfo/blockuserinfo.php&lt;/code&gt; will be copied to &lt;code&gt;/override/modules/blockuserinfo/blockuserinfo.php&lt;/code&gt; during the installation of the &lt;code&gt;mymodule&lt;/code&gt; module. However, this is not recommended, since the exact usage of a module to be overridden is unknown and may be different in a particular shop.&lt;/p&gt;

&lt;h2 id=&quot;troubles-overriding-some-modules&quot;&gt;Troubles overriding some modules&lt;/h2&gt;

&lt;p&gt;Some modules (mainly core modules) have methods that can’t be extended (at the moment).&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/gskema/04af5a98b56ee59f01e1.js&quot;&gt; &lt;/script&gt;

&lt;p&gt;As you can see, this class has a variety of properties and methods. Some methods are &lt;code&gt;public&lt;/code&gt;, some are &lt;code&gt;protected&lt;/code&gt; and others are &lt;code&gt;private&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Sometimes you may need to extend a method that is currently set to be &lt;code&gt;private&lt;/code&gt;. Unfortunately, it is not possible to extend private variables or methods in PHP (and most other class-based programming languages).&lt;/p&gt;

&lt;p&gt;This is a design issue. Core modules were written long before the introduction of module overrides. Difference is that &lt;code&gt;private&lt;/code&gt; scope “locks down” class features, while &lt;code&gt;protected&lt;/code&gt; scope is less strict and allows overrides by a child class.&lt;/p&gt;

&lt;p&gt;If you come across a core module method that is private, the best thing to do is change it to &lt;code&gt;protected&lt;/code&gt; and to make a pull request on GitHub for that module. Everyone will benefit!&lt;/p&gt;

&lt;h2 id=&quot;how-to-make-cleaner-method-overrides&quot;&gt;How to make cleaner method overrides&lt;/h2&gt;

&lt;p&gt;Overrides are great, but do they keep up with the updates? We are talking about a situation where the whole function is copied to an override and one minor modification is made:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/gskema/751e2791b35008beb71f.js&quot;&gt; &lt;/script&gt;

&lt;p&gt;We added the line &lt;code&gt;&#39;company_name&#39; =&amp;gt; ($this-&amp;gt;context-&amp;gt;customer-&amp;gt;logged ? $this-&amp;gt;context-&amp;gt;customer-&amp;gt;company : false),&lt;/code&gt;, which adds a &lt;code&gt;company_name&lt;/code&gt; Smarty variable that we want to use in our template.&lt;/p&gt;

&lt;p&gt;The problem is that we essentially “snapshotted” the method code that we took from the module. The code of this method may and will change in the future version. What if wanted to have the updated code but also add our one little modification?&lt;/p&gt;

&lt;p&gt;When the code structure and logic allows it, you should always aim to execute the whole unmodified parent method &lt;strong&gt;and then&lt;/strong&gt; (before or after) add that one little modification. The way you can do this is by using &lt;code&gt;parent&lt;/code&gt; keyword, which calls the method from the parent class:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/gskema/0adf2da86ff78750d161.js&quot;&gt; &lt;/script&gt;

&lt;p&gt;In the example above, we add our Smarty variable, and then return the parent method, which will call the unmodified and possibly updated &lt;code&gt;hookDisplayTop&lt;/code&gt; method. There is no need to copy the whole method.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;P.S.&lt;/strong&gt; There is one small issue in the example, which you may have noticed. In the parent method, there is a  statement, &lt;code&gt;if (!$this-&amp;gt;active)&lt;/code&gt;, which should’ve been taken into consideration when making the override. We could put it in our overridden method, or for the purpose of this example, we can imagine that it’s not there :)&lt;/p&gt;

&lt;h2 id=&quot;module-overrides-are-great&quot;&gt;Module overrides are great!&lt;/h2&gt;

&lt;p&gt;As we mentioned before, PrestaShop already has a great system for overrides, and module overrides make it even greater. Overrides truly empower developers and saves a lot of time for everyone.&lt;/p&gt;

&lt;p&gt;In the past, overriding module behaviour was a real issue. If using hooks, modifying templates and JavaScript files wasn’t enough, you had to write your own module or rename and modify the module you were trying to change. The updates were instantly lost.&lt;/p&gt;

&lt;p&gt;Luckily, now it is possible to override module classes and change the behaviours right at their sources.&lt;/p&gt;

&lt;p&gt;Modules overrides have not been documented very well, so not many of you may know about it. Hopefully this gave you some clearance on how to use them.&lt;/p&gt;
</description>
        <pubDate>Sun, 10 May 2015 14:15:00 +0200</pubDate>
        <link>http://build.prestashop.com/howtos/module/how-to-override-modules/</link>
        <guid isPermaLink="true">http://build.prestashop.com/howtos/module/how-to-override-modules/</guid>
        
        <category>override</category>
        
        <category>module</category>
        
        
        <category>howtos</category>
        
        <category>module</category>
        
      </item>
    
      <item>
        <title>PrestaShop Core Weekly - Week 17 &amp; 18</title>
        <description>&lt;p&gt;Missed a week, but the Core Weekly report is still alive and kicking!&lt;/p&gt;

&lt;p&gt;I spent last week half in a training session, and half on days off. Sorry if you missed that weekly meeting of ours! …but that only means that this week, you get DOUBLE DOSE of that :)&lt;/p&gt;

&lt;p&gt;This edition of the Core Weekly report highlights changes in PrestaShop core codebase during the last two weeks, from Monday 20th or April to Sunday 3rd of May, 2015.&lt;/p&gt;

&lt;h2 id=&quot;milestones&quot;&gt;Milestones&lt;/h2&gt;

&lt;p&gt;The PSR-2 survey is still running, &lt;a href=&quot;https://www.prestashop.com/forums/topic/434831-psr2-development-norm-for-prestashop/&quot;&gt;give us your opinion&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Of note among the merged PRs in the last two weeks:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;In PR 2865, contributor gskema added a new method, &lt;code&gt;Language::getIDs()&lt;/code&gt;, which returns an array of language IDs. Very useful when you only need the language ID and not the whole language array. A lot of functions could be refactored by using this new method. Some lines could even lose their &lt;code&gt;foreach&lt;/code&gt; loops.&lt;/li&gt;
  &lt;li&gt;In PR 2891, core dev jeromenadaud updated Font Awesome to version 4.3.0 (from version 4.0.3).&lt;/li&gt;
  &lt;li&gt;In PR 2655, contributor PrestaEdit added a new Cart hook, named &lt;code&gt;actionAfterDeleteProductInCart&lt;/code&gt;. Comment if you think “&lt;code&gt;actionCartProductRemoveAfter&lt;/code&gt;” would be a better name!&lt;/li&gt;
  &lt;li&gt;In PR 2554, contributor PrestaEdit added a new Mail hook, named &lt;code&gt;actionGetExtraMailTemplateVars&lt;/code&gt;. Comment if you think “&lt;code&gt;actionMailSendTemplatesVariablesPrepareAfter&lt;/code&gt;” would be a better name!&lt;/li&gt;
  &lt;li&gt;In PR 2905, core dev julienboudreau introduced a much improved invoice template! The template is now split into multiple sub-templates (which can be overridden), there is a new zone for legal free text (along with the &lt;code&gt;displayInvoiceLegalFreeText&lt;/code&gt; hook), and made it much better looking! Also, the options for images in PDF moved from Preferences &amp;gt; orders to Orders &amp;gt; Invoices and Orders &amp;gt; credit slips. Let us know what you think of it!&lt;/li&gt;
  &lt;li&gt;In PR 2900, core dev jeromenadaud introduced a new check, to display a warning if the server uses a PHP version below 5.4.&lt;/li&gt;
  &lt;li&gt;In PR 2967, core dev Shudrum removed the order_changed.html/.txt e-mail template, and replaced it with the new &lt;code&gt;actionOrderEdited&lt;/code&gt; hook. This follows &lt;a href=&quot;https://github.com/PrestaShop/mailalerts/pull/13&quot;&gt;PR 13&lt;/a&gt; on the &lt;code&gt;mailalerts&lt;/code&gt; module, which introduces two new mails: return_slip and order_changed. Explore those changes!&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;code-changes&quot;&gt;Code changes&lt;/h2&gt;

&lt;p&gt;Let’s review last week’s merged pull-requests!&lt;/p&gt;

&lt;p&gt;As always, click on the PR’s number to open its page on GitHub.&lt;/p&gt;

&lt;h4 id=&quot;text-fix&quot;&gt;Text fix&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2916&quot;&gt;2916&lt;/a&gt;: AdminCustomerPreferencesController: Text clarification, by xBorderie.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;front-office&quot;&gt;Front office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2807&quot;&gt;2807&lt;/a&gt;: Fix #PSCSX-4346 specific price + group reduction price isn’t right, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2785&quot;&gt;2785&lt;/a&gt;: Wrong number of displayed products in Search. Thank you kpodemski!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2811&quot;&gt;2811&lt;/a&gt;: Fix #PSCSX-5199, prevent undefined for ajax param, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2878&quot;&gt;2878&lt;/a&gt;: Use email input type. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2914&quot;&gt;2914&lt;/a&gt;: Fix language in Dispatcher, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2830&quot;&gt;2830&lt;/a&gt;: Fix bug #PSCSX-4326, Specific prices + group reduction, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2934&quot;&gt;2934&lt;/a&gt;: Correct company field JS validation function. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2944&quot;&gt;2944&lt;/a&gt;: duplicated var in product.js, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2924&quot;&gt;2924&lt;/a&gt;: FixBug #PSCSX-5255 - Quantity reduction now based on original price, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2950&quot;&gt;2950&lt;/a&gt;: Fix #PSCSX-5397, bad bigpic display, by gRoussac.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;back-office&quot;&gt;Back office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2764&quot;&gt;2764&lt;/a&gt;: Fix #PSCSX-5006, duplicated addresses on customers import + could not update addresses, by gRoussac. Thank you indesign47 for the help!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2907&quot;&gt;2907&lt;/a&gt;: Fix parent category selection in category creation, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2723&quot;&gt;2723&lt;/a&gt;: Wrong multi-language feature. Thank you kpodemski!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2913&quot;&gt;2913&lt;/a&gt;: Add status page indicator, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2912&quot;&gt;2912&lt;/a&gt;: Fix bug #PSCSX-5209 Bad positions moving on other page than first page, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2956&quot;&gt;2956&lt;/a&gt;: Fix #PSCSX-5440 avoid too much quantity refund in standard refund, by sfroment42.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;modules&quot;&gt;Modules&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2864&quot;&gt;2864&lt;/a&gt;: Remove blocklayered start/end tags to prevent spam, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2839&quot;&gt;2839&lt;/a&gt;: blockwishlist work, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2949&quot;&gt;2949&lt;/a&gt;: Add short description into crossselling module. Thank you cdesbouche-acipia!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;core&quot;&gt;Core&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2865&quot;&gt;2865&lt;/a&gt;: New method Language::getIDs. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2897&quot;&gt;2897&lt;/a&gt;: error_log to Tools::error_log, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2655&quot;&gt;2655&lt;/a&gt;: Cart / hook “actionAfterDeleteProductInCart”. Thank you PrestaEdit!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2554&quot;&gt;2554&lt;/a&gt;: Mail / hook “actionGetExtraMailTemplateVars”. Thank you PrestaEdit!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2885&quot;&gt;2885&lt;/a&gt;: pdf prefix in order returns, by gRoussac and AlexEven.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2566&quot;&gt;2566&lt;/a&gt;: Refactor Category::getProducts methods. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2793&quot;&gt;2793&lt;/a&gt;: Fix #PSCSX-5130 check if is free, by sfroment.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2813&quot;&gt;2813&lt;/a&gt;: Fix #PSCSX-5204, undefined var $languages, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2901&quot;&gt;2901&lt;/a&gt;: Normalize int and bool PHPDoc variable types. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2798&quot;&gt;2798&lt;/a&gt;: Fix Warehouse::getWarehouseById replace stock table by warehouse_product_location, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2569&quot;&gt;2569&lt;/a&gt;: Update AdminController.php - trim BO filter values. Thank you nodexpl!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2904&quot;&gt;2904&lt;/a&gt;: norms as keyword in lowercase, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2871&quot;&gt;2871&lt;/a&gt;: Fix unity validation. Thank you pbirnzain!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2908&quot;&gt;2908&lt;/a&gt;: Create cart if cart object does not exist, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2910&quot;&gt;2910&lt;/a&gt;: Module::displayError() now handles arrays passed as parameter, by tchauviere.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2902&quot;&gt;2902&lt;/a&gt;: Refactor Language::getLanguages calls. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2923&quot;&gt;2923&lt;/a&gt;: FixBug #PSCSX-5022 - Wrong rounding price display, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2937&quot;&gt;2937&lt;/a&gt;: warnings, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2938&quot;&gt;2938&lt;/a&gt;: company_address to shop_address, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2943&quot;&gt;2943&lt;/a&gt;: Be sure the local cache will not grow out of control, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2946&quot;&gt;2946&lt;/a&gt;: PHPDoc + Wording, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2953&quot;&gt;2953&lt;/a&gt;: StockAvailable / Fix #PSCSX-5432. Thank you PrestaEdit!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;css&quot;&gt;CSS&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2891&quot;&gt;2891&lt;/a&gt;: Font Awesome updated to 4.3.0, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2898&quot;&gt;2898&lt;/a&gt;: Remove unused sass variables, by jeromenadaud.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;pdf&quot;&gt;PDF&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2905&quot;&gt;2905&lt;/a&gt;: Introduce new Invoice template, by julienbourdeau.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2906&quot;&gt;2906&lt;/a&gt;: Invoice pdf cols alignment, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2942&quot;&gt;2942&lt;/a&gt;: Set header title for PDF, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2947&quot;&gt;2947&lt;/a&gt;: Invoice - Add Country in shop address, by julienbourdeau.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;installer&quot;&gt;Installer&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2900&quot;&gt;2900&lt;/a&gt;: Add warning when php version is less than 5.4, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2903&quot;&gt;2903&lt;/a&gt;: Fix #PSCSX-4951 Do less request and don’t download same file multiple time, by sfroment42.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;tests&quot;&gt;Tests&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2918&quot;&gt;2918&lt;/a&gt;: Added tests on Module::displayError(), by tchauviere.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2925&quot;&gt;2925&lt;/a&gt;: Fix bug #PSCSX-5361, bad regex in packJSinHTML, by gRoussac. Thank you ZiZuu-store for your help!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;localization&quot;&gt;Localization&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2922&quot;&gt;2922&lt;/a&gt;: add state for Malaysia. Thank you li9ht!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;import&quot;&gt;Import&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2959&quot;&gt;2959&lt;/a&gt;: Improve import performances, by jocel1.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;See all the PRs merged into the codebase since April 20th &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pulls?page=1&amp;amp;pulls_only=true&amp;amp;q=is%3Apr+merged%3A%3E2015-04-20+is%3Aclosed+sort%3Aupdated&amp;amp;utf8=%E2%9C%93&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thank you to our contributors for their PRs: &lt;a href=&quot;https://github.com/cdesbouche-acipia&quot;&gt;cdesbouche-acipia&lt;/a&gt;, &lt;a href=&quot;https://github.com/gskema&quot;&gt;gskema&lt;/a&gt;, &lt;a href=&quot;https://github.com/indesign47&quot;&gt;indesign47&lt;/a&gt;, &lt;a href=&quot;https://github.com/kpodemski&quot;&gt;kpodemski&lt;/a&gt;, &lt;a href=&quot;https://github.com/li9ht&quot;&gt;li9ht&lt;/a&gt;, &lt;a href=&quot;https://github.com/nodexpl&quot;&gt;nodexpl&lt;/a&gt;, &lt;a href=&quot;https://github.com/pbirnzain&quot;&gt;pbirnzain&lt;/a&gt;, &lt;a href=&quot;https://github.com/PrestaEdit&quot;&gt;PrestaEdit&lt;/a&gt;, &lt;a href=&quot;https://github.com/ZiZuu-store&quot;&gt;ZiZuu-store&lt;/a&gt;, and those whose contributions haven’t been merged yet! Also, a big thanks to all those who contribute with tickets on the Forge!&lt;/p&gt;

&lt;p&gt;Remember: if you want to contribute to PrestaShop with code, read those:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;…and if you do not know how to fix an issue but wish to report it, read this: &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;How to use the Forge to contribute to PrestaShop&lt;/a&gt;. Thank you!&lt;/p&gt;

&lt;p&gt;Until the next Core Weekly report, let me know if I forgot something here, or if you have ideas about how to improve this report!&lt;/p&gt;

&lt;p&gt;Happy contributin’ everyone!&lt;/p&gt;
</description>
        <pubDate>Tue, 05 May 2015 20:29:47 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-core-weekly-week-17-18/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-core-weekly-week-17-18/</guid>
        
        <category>core-weekly</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>PrestaShop Core Weekly - Week 16</title>
        <description>&lt;p&gt;Core Weekly, expectedly back again for Week 16 of 2015!&lt;/p&gt;

&lt;p&gt;This edition of the Core Weekly report highlights changes in PrestaShop core codebase last week, from Monday 13th to Sunday 19th of April, 2015.&lt;/p&gt;

&lt;p&gt;The Core Weekly report is ever evolving, so if you have ideas on how to improve it, let me know!&lt;/p&gt;

&lt;h2 id=&quot;milestones&quot;&gt;Milestones&lt;/h2&gt;

&lt;p&gt;The PSR-2 survey is still running, &lt;a href=&quot;https://www.prestashop.com/forums/topic/434831-psr2-development-norm-for-prestashop/&quot;&gt;give us your opinion&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Julien, one of PrestaShop’s Core developers, wrote an article about &lt;a href=&quot;http://build.prestashop.com/howtos/misc/prestashop-perfect-gitignore/&quot;&gt;the best &lt;code&gt;.gitignore&lt;/code&gt; file for PrestaShop projects&lt;/a&gt;. If you use Git to version your files, you should definitely read it!&lt;/p&gt;

&lt;p&gt;Slow week on the development front, as the Core team spent the first three days of the week in a training session, and thus had little time to both code and accept pull requests.
But I’m telling you, next week will bring a whole lot of merges!&lt;/p&gt;

&lt;p&gt;That being said, of note among the merged PRs last week:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;In PR 2886, gskema added a new parameter in Tools::fileAttachment(), for when you don’t want to grab the files content and hold it in memory (especially large files).&lt;/li&gt;
  &lt;li&gt;In PR 2888, ZiZuu-store made a fix to pass the Context in Link-&amp;gt;getLanguageLink(), which makes it possible to use the Context into templates and more.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;code-changes&quot;&gt;Code changes&lt;/h2&gt;

&lt;p&gt;Let’s review last week’s merged pull-requests!&lt;/p&gt;

&lt;p&gt;As always, click on the PR’s number to open its page on GitHub.&lt;/p&gt;

&lt;h4 id=&quot;front-office&quot;&gt;Front office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2884&quot;&gt;2884&lt;/a&gt;: Bad rule in product.css, by gRoussac.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;back-office&quot;&gt;Back office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2875&quot;&gt;2875&lt;/a&gt;: Updated forums link. Thank you unlocomqx!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2881&quot;&gt;2881&lt;/a&gt;: Wrong ‘back to product’ button link. Thank you Shagshag!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;core&quot;&gt;Core&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2872&quot;&gt;2872&lt;/a&gt;: Fix a few bugs in lazy cache, by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2886&quot;&gt;2886&lt;/a&gt;: New parameter for Tools::fileAttachment. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2888&quot;&gt;2888&lt;/a&gt;: actually use passed Context in Link-&amp;gt;getLanguageLink(). Thank you ZiZuu-store!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;See all the PRs merged into the codebase since April 13th &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pulls?page=2&amp;amp;pulls_only=true&amp;amp;q=is%3Apr+merged%3A%3E2015-04-13+is%3Aclosed+sort%3Aupdated&amp;amp;utf8=%E2%9C%93&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thank you to our contributors for their PRs: &lt;a href=&quot;https://github.com/gskema&quot;&gt;gskema&lt;/a&gt;, &lt;a href=&quot;https://github.com/unlocomqx&quot;&gt;unlocomqx&lt;/a&gt;, &lt;a href=&quot;https://github.com/Shagshag&quot;&gt;Shagshag&lt;/a&gt;, &lt;a href=&quot;https://github.com/ZiZuu-store&quot;&gt;ZiZuu-store&lt;/a&gt; and those whose contributions haven’t been merged yet! Also, a big thanks to all those who contribute with tickets on the Forge!&lt;/p&gt;

&lt;p&gt;Remember: if you want to contribute to PrestaShop with code, read those:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;…and if you do not know how to fix an issue but wish to report it, read this: &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;How to use the Forge to contribute to PrestaShop&lt;/a&gt;. Thank you!&lt;/p&gt;

&lt;p&gt;Until the next Core Weekly report, let me know if I forgot something here, or if you have ideas about how to improve this report!&lt;/p&gt;

&lt;p&gt;Happy contributin’ everyone!&lt;/p&gt;
</description>
        <pubDate>Wed, 22 Apr 2015 18:12:00 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-core-weekly-week-16/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-core-weekly-week-16/</guid>
        
        <category>core-weekly</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>Create the perfect .gitignore file for your PrestaShop projects</title>
        <description>&lt;p&gt;As a serious developer, you need to use versioning (or “&lt;a href=&quot;http://en.wikipedia.org/wiki/Revision_control&quot;&gt;revision control&lt;/a&gt;”) for your projects, in order to track changes to your files… and be able to travel back in time when a disaster happens. There are many CVS (&lt;a href=&quot;http://en.wikipedia.org/wiki/Concurrent_Versions_System&quot;&gt;&lt;em&gt;Concurrent Versions System&lt;/em&gt;&lt;/a&gt;) available out there today, but &lt;strong&gt;Git&lt;/strong&gt; is by far &lt;a href=&quot;http://stackoverflow.com/research/developer-survey-2015#tech-sourcecontrol&quot;&gt;the most popular in 2015&lt;/a&gt;, and &lt;a href=&quot;https://www.openhub.net/repositories/compare&quot;&gt;one of the most used in the Open Source world&lt;/a&gt;, right behind Subversion (svn).&lt;/p&gt;

&lt;p&gt;PrestaShop moved from Subversion to Git more than 2 years ago, &lt;a href=&quot;https://www.prestashop.com/blog/en/prestashop-is-now-on-github/&quot;&gt;and made the switch from our own SVN server to GitHub&lt;/a&gt;, in order to make contribution easier for everyone. While doing so, we created a PrestaShop-specific &lt;code&gt;.gitignore&lt;/code&gt; file. A &lt;a href=&quot;http://git-scm.com/docs/gitignore&quot;&gt;gitignore file&lt;/a&gt; is a must-have for any Git-versioned project, as it specifies intentionally untracked files that Git should ignore.&lt;/p&gt;

&lt;p&gt;We created that file to help you better version your PrestaShop project. Let’s dive into that!&lt;/p&gt;

&lt;h3 id=&quot;what-to-ignore&quot;&gt;What to ignore&lt;/h3&gt;

&lt;p&gt;Generally, you shouldn’t version the following types of files:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Temporary files (such as cache)&lt;/li&gt;
  &lt;li&gt;Generated files (such as minified CSS or retrieved XMLs)&lt;/li&gt;
  &lt;li&gt;Files with credentials or personal information (such as &lt;code&gt;settings.inc.php&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;versioning-core-files&quot;&gt;Versioning core files&lt;/h3&gt;

&lt;p&gt;The first thing you need to decide is whether you want to keep track of the PrestaShop core files changes or not. If you’re using PrestaShop correctly, you shouldn’t modify core files to suit your needs – you should &lt;a href=&quot;http://doc.prestashop.com/display/PS16/Overriding+default+behaviors&quot;&gt;override the core classes in order to modify PrestaShop’s behavior&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you don’t want to version the core files, you have to clone your repo then drop the PrestaShop files (from a stable release) into the folder.&lt;/p&gt;

&lt;p&gt;But in my opinion, &lt;strong&gt;it is better to version core files&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Indeed, even if you don’t intend to modify the core files, you might have to apply specific patches. It’s always &lt;strong&gt;better to make sure that all your environments are exactly the same&lt;/strong&gt;. This way, it’s much easier to deploy a new environment.&lt;/p&gt;

&lt;p&gt;Even better: if you create a branch which tracks PrestaShop/PrestaShop (1.6 branch), &lt;strong&gt;you will be able to &lt;a href=&quot;http://git-scm.com/docs/git-cherry-pick&quot;&gt;cherry-pick&lt;/a&gt; the patches you need&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;with-core-files&quot;&gt;With core files&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2015/04/github-new-repo-gitignore.jpg&quot; alt=&quot;.gitignore from GitHub&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If you host your project on GitHub, you can choose to initialize your project with a &lt;code&gt;.gitignore&lt;/code&gt; file.&lt;/p&gt;

&lt;p&gt;We recently &lt;a href=&quot;https://github.com/github/gitignore/pull/1479&quot;&gt;updated it&lt;/a&gt;, as a result you’ll get the file below (&lt;a href=&quot;https://github.com/github/gitignore/blob/master/Prestashop.gitignore&quot;&gt;direct link&lt;/a&gt;):&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/julienbourdeau/0f7d629cb7f9bc6995fc.js&quot;&gt; &lt;/script&gt;

&lt;h2 id=&quot;without-core-files&quot;&gt;Without core files&lt;/h2&gt;

&lt;p&gt;If you don’t want to version the core files, PrestaShop contributor Adonis Karavokyros (also known as &lt;a href=&quot;https://github.com/prestarocket&quot;&gt;prestarocket&lt;/a&gt;) wrote this file instead:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/prestarocket/1070872.js&quot;&gt; &lt;/script&gt;

&lt;h3 id=&quot;generate-your-own-gitignore-file-with-gitignoreio&quot;&gt;Generate your own &lt;code&gt;.gitignore&lt;/code&gt; file with gitignore.io&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://gitignore.io&quot;&gt;gitignore.io&lt;/a&gt; is a great tool, based on the official &lt;a href=&quot;https://github.com/github/gitignore&quot;&gt;GitHub/gitignore&lt;/a&gt; repo. You can generate a perfect &lt;code&gt;.gitignore&lt;/code&gt; file simply by listing the technologies you use in your project.&lt;/p&gt;

&lt;p&gt;The website offers an easy-to-use interface, but if (like me) you want to show off, you can use the following Git alias in your configuration:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git config --global alias.ignore &lt;span class=&quot;err&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;gi() { curl -L -s https://www.gitignore.io/api/$@ &amp;gt;&amp;gt; .gitignore ;}; gi&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Next, the following command will generate a &lt;code&gt;.gitignore&lt;/code&gt; file inside the current directory &lt;a href=&quot;https://www.gitignore.io/api/prestashop,osx,phpstorm&quot;&gt;containing these lines&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git ignore prestashop,osx,phpstorm&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;There you go! All of this should give a cleaner Git repository for your PrestaShop projects.&lt;/p&gt;

&lt;p&gt;Do you have ideas on how to improve this? Do you use alternate files? Tell us your story in the comments!&lt;/p&gt;
</description>
        <pubDate>Mon, 20 Apr 2015 13:21:00 +0200</pubDate>
        <link>http://build.prestashop.com/howtos/misc/prestashop-perfect-gitignore/</link>
        <guid isPermaLink="true">http://build.prestashop.com/howtos/misc/prestashop-perfect-gitignore/</guid>
        
        <category>git</category>
        
        <category>gitignore</category>
        
        
        <category>howtos</category>
        
        <category>misc</category>
        
      </item>
    
      <item>
        <title>PrestaShop Core Weekly - Week 15</title>
        <description>&lt;p&gt;Welcome to Week 15 in PrestaShop Core development! This is the Core Weekly!&lt;/p&gt;

&lt;p&gt;As a reminder, this Core Weekly report highlights changes in PrestaShop core codebase last week, from Monday 6th to Sunday 12th of April, 2015.&lt;/p&gt;

&lt;p&gt;The Core Weekly report is ever evolving, so if you have ideas on how to improve it, let me know!&lt;/p&gt;

&lt;h2 id=&quot;milestones&quot;&gt;Milestones&lt;/h2&gt;

&lt;p&gt;The PSR-2 survey is still running, give us your opinion! &lt;a href=&quot;https://www.prestashop.com/forums/topic/434831-psr2-development-norm-for-prestashop/&quot;&gt;https://www.prestashop.com/forums/topic/434831-psr2-development-norm-for-prestashop/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cool things are boiling, but we’ll keep that for another blogpost :)&lt;/p&gt;

&lt;h2 id=&quot;code-changes&quot;&gt;Code changes&lt;/h2&gt;

&lt;p&gt;Let’s review last week’s merged pull-requests!&lt;/p&gt;

&lt;p&gt;As always, click on the PR’s number to open its page on GitHub.&lt;/p&gt;

&lt;h4 id=&quot;code-typos&quot;&gt;Code typos&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2849&quot;&gt;2849&lt;/a&gt;: Missing space, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2851&quot;&gt;2851&lt;/a&gt; and &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2852&quot;&gt;2852&lt;/a&gt;: Replaces &amp;lt;/br&amp;gt; tag with &amp;lt;br /&amp;gt;. Thank you zimmi1!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;text-fixes&quot;&gt;Text fixes&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2840&quot;&gt;2840&lt;/a&gt;: AdminCustomer interested products block title and icon. Thank you eric-rouvier!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;front-office&quot;&gt;Front office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2550&quot;&gt;2550&lt;/a&gt;: Clean Selectors. Thank you prestarocket!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2791&quot;&gt;2791&lt;/a&gt;: Fix bug #PSCSX-5145, cross-selling in shopping cart bxslider restart, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2797&quot;&gt;2797&lt;/a&gt;: Fix bug #PSCSX-4925, TCPDF ERROR: [Image] Unable to get image, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2824&quot;&gt;2824&lt;/a&gt;: Bad display of old_price, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2831&quot;&gt;2831&lt;/a&gt;: Fix breadcrumb home link with ssl in all pages, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2843&quot;&gt;2843&lt;/a&gt;: Correct IE8 syntax error. Thank you DanH42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2854&quot;&gt;2854&lt;/a&gt;: Revert “&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2550&quot;&gt;2550&lt;/a&gt;: Clean Selectors”, by jeromenadaud. Take notice, people: do your PRs on the “1.6” branch, not the “master” branch!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2855&quot;&gt;2855&lt;/a&gt;: Clean Selectors. Thank you again, prestarocket! :)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2860&quot;&gt;2860&lt;/a&gt;: undefined var hasDeliveryAddress, by gRoussac.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;back-office&quot;&gt;Back office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2477&quot;&gt;2477&lt;/a&gt;: Show SQL Manager &amp;amp; SQL Export only if sql manager is enabled in profile. Thank you guestisp!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2686&quot;&gt;2686&lt;/a&gt;: Use positions with HelperList. Thank you PrestaEdit!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2799&quot;&gt;2799&lt;/a&gt;: Fix #PSCSX-5159, warnings on tabs, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2809&quot;&gt;2809&lt;/a&gt;: Optimize import speed (thumbnail optimizations), by jocel1.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2812&quot;&gt;2812&lt;/a&gt;: Fix #PSCSX-2093 undefined $order, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2836&quot;&gt;2836&lt;/a&gt;: Change getBaseURI call in filemanager config, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2842&quot;&gt;2842&lt;/a&gt;: Correct search for catalog product, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2848&quot;&gt;2848&lt;/a&gt;: make name accept PERCENT_PRODUCT_OUT_OF_STOCK_EXPIRE. Thank you doekia!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;core&quot;&gt;Core&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2774&quot;&gt;2774&lt;/a&gt;: Helper List / Change delete to default. Thank you PrestaEdit!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2801&quot;&gt;2801&lt;/a&gt;: Fix unreachable return statements. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2805&quot;&gt;2805&lt;/a&gt;: Fix undefined PHP variables. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2814&quot;&gt;2814&lt;/a&gt;: Fix #PSCSX-5217 check if isfeature active, by sfroment42.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2841&quot;&gt;2841&lt;/a&gt;: Add Random charlist to passwdGen, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2846&quot;&gt;2846&lt;/a&gt;: Add logs when unsetting a cart in FO, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2850&quot;&gt;2850&lt;/a&gt;: Use bool keyword for casting into boolean. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2858&quot;&gt;2858&lt;/a&gt;: Get changes back from master, by many contributors.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;unit-tests&quot;&gt;Unit tests&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2783&quot;&gt;2783&lt;/a&gt;: DatabaseDump should accept other host than localhost, by mdomenjoud.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;phpdoc&quot;&gt;phpDoc&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2833&quot;&gt;2833&lt;/a&gt;: DbQuery PHPDoc + refactor. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2853&quot;&gt;2853&lt;/a&gt;: PHPDoc + unused variable, by jeromenadaud.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2859&quot;&gt;2859&lt;/a&gt;: PHPDoc + unused var, by jeromenadaud.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;See all the PRs merged into the codebase since April 6th &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pulls?q=is%3Apr+merged%3A%3E2015-04-06+is%3Aclosed&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thank you to our contributors for their PRs: &lt;a href=&quot;https://github.com/DanH42&quot;&gt;DanH42&lt;/a&gt;, &lt;a href=&quot;https://github.com/doekia&quot;&gt;doekia&lt;/a&gt;, &lt;a href=&quot;https://github.com/eric-rouvier&quot;&gt;eric-rouvier&lt;/a&gt;, &lt;a href=&quot;https://github.com/gskema&quot;&gt;gskema&lt;/a&gt;, &lt;a href=&quot;https://github.com/guestisp&quot;&gt;guestisp&lt;/a&gt;, &lt;a href=&quot;https://github.com/PrestaEdit&quot;&gt;PrestaEdit&lt;/a&gt;, &lt;a href=&quot;https://github.com/prestarocket&quot;&gt;prestarocket&lt;/a&gt;, and &lt;a href=&quot;https://github.com/zimmi1&quot;&gt;zimmi1&lt;/a&gt;… and those whose contributions were not merged yet! Also, a big thanks to all those who contribute with tickets on the Forge!&lt;/p&gt;

&lt;p&gt;Remember: if you want to contribute to PrestaShop with code, read those:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;…and if you do not know how to fix an issue but wish to report it, read this: &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;How to use the Forge to contribute to PrestaShop&lt;/a&gt;. Thank you!&lt;/p&gt;

&lt;p&gt;Until the next Core Weekly report, let me know if I forgot something here, or if you have ideas about how to improve this report!&lt;/p&gt;

&lt;p&gt;Happy contributin’ everyone!&lt;/p&gt;
</description>
        <pubDate>Thu, 16 Apr 2015 18:12:00 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-core-weekly-week-15/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-core-weekly-week-15/</guid>
        
        <category>core-weekly</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>PrestaShop Core Weekly - Week 14</title>
        <description>&lt;p&gt;…and we’re back for another Core Weekly report!
As you can see, we’ve moved to the Build.PrestaShop blog, which is where all dev activity will be talked about, for and with the Community!&lt;/p&gt;

&lt;p&gt;As always, this Core Weekly report highlight changes in PrestaShop core codebase last week, from Monday 30th of March to Sunday 5th of April.&lt;/p&gt;

&lt;p&gt;The Core Weekly report is ever evolving, so if you have ideas on how to improve it, let me know!&lt;/p&gt;

&lt;h2 id=&quot;milestones&quot;&gt;Milestones&lt;/h2&gt;

&lt;p&gt;Well, we launched the Build.PrestaShop devblog, which you are reading right now. This is a big step towards the community (developers, designers, or just the curious ones), which we’ve been meaning to make for a long time, and we’re very happy to have this place to exchange with you!&lt;/p&gt;

&lt;p&gt;The PSR-2 survey is still running, give us your opinion! &lt;a href=&quot;https://www.prestashop.com/forums/topic/434831-psr2-development-norm-for-prestashop/&quot;&gt;https://www.prestashop.com/forums/topic/434831-psr2-development-norm-for-prestashop/&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;code-changes&quot;&gt;Code changes&lt;/h2&gt;

&lt;p&gt;Onto the categorized list of last week’s merged pull-requests!&lt;/p&gt;

&lt;p&gt;As always, click on the PR’s number to open its page on GitHub.&lt;/p&gt;

&lt;h4 id=&quot;code-typos&quot;&gt;Code typos&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2790&quot;&gt;2790&lt;/a&gt;: typo in classes/ImageType.php. Thank you PrestaEdit!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;text-fixes&quot;&gt;Text fixes&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2796&quot;&gt;2796&lt;/a&gt;: fix PSCSX-5141 - bad URL, by AlexEven.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2815&quot;&gt;2815&lt;/a&gt;: wording harmonization - front office, by AlexEven.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;categories&quot;&gt;Categories&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2768&quot;&gt;2768&lt;/a&gt;: fix issues with ajax tree loading when creating a new category, by jocel1. Based on wellic’s &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2745&quot;&gt;2745&lt;/a&gt;: thank you!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;phpdoc&quot;&gt;phpDoc&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2800&quot;&gt;2800&lt;/a&gt;: replace @return $this for better compatibility. Thank you gskema!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2803&quot;&gt;2803&lt;/a&gt;: PHPDoc for ObjectModel + code formatting. Thank you gskema!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;unit-tests&quot;&gt;Unit Tests&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2816&quot;&gt;2816&lt;/a&gt;: travis: PHP 7.0 nightly added. Thank you TomasVotruba!&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;core&quot;&gt;Core&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2818&quot;&gt;2818&lt;/a&gt;: fix unregisterHook with name. Thank you natrim!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2820&quot;&gt;2820&lt;/a&gt;: AdminController / Remove assigns which will be done after. Thank you PrestaEdit!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2829&quot;&gt;2829&lt;/a&gt;: Optimize cart rules by filtering out from the query the unneeded rows, by jocel1.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;front-office&quot;&gt;Front office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2767&quot;&gt;2767&lt;/a&gt;: Theme simplification: order step gradients. Thank you axometeam!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2787&quot;&gt;2787&lt;/a&gt;: Keep existing “general” SKU in metadata visible with groups. Thank you dkarvounaris!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2786&quot;&gt;2786&lt;/a&gt;: Follow schema.org “price” usage guidelines. Thank you dkarvounaris!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2788&quot;&gt;2788&lt;/a&gt;: Schema url needs to point to product page instead of image. Thank you dkarvounaris!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2780&quot;&gt;2780&lt;/a&gt;: Fix css bug #PSCSX-5047, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2810&quot;&gt;2810&lt;/a&gt;: Exception in Cart.php, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2821&quot;&gt;2821&lt;/a&gt;: Added displayBlockPrice hook on bestsellers template, by tchauviere.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2822&quot;&gt;2822&lt;/a&gt;: blockspecials - Added hook displayBlockPrice to template, by tchauviere.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2827&quot;&gt;2827&lt;/a&gt; and &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2828&quot;&gt;2828&lt;/a&gt;: blocknewproducts - Added hook displayBlockPrice to template, by tchauviere.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;back-office&quot;&gt;Back office&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2782&quot;&gt;2782&lt;/a&gt;: Fix PSCSX-5143, remove type column in adminorders shipping table, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2794&quot;&gt;2794&lt;/a&gt;: SQL crash on search abandoned cart. Thank you doekia!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2802&quot;&gt;2802&lt;/a&gt;: fix variable initialization, by jocel1.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;pdf&quot;&gt;PDF&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2775&quot;&gt;2775&lt;/a&gt;: tel and fax translation. Thank you cedricfontaine!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2792&quot;&gt;2792&lt;/a&gt;: Fix #PSCSX-4925, parse error in /pdf/footer.tpl, by gRoussac.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PrestaShop/PrestaShop/pull/2806&quot;&gt;2806&lt;/a&gt;: fix PSCSX-5171 - missing translation in PDF, by AlexEven.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We’re making good progress towards a significant new version, where a lot has been optimized. The coming version of PrestaShop will be faster and stronger than any you have seen before!&lt;/p&gt;

&lt;p&gt;Thank you to the PrestaShop Core developers for making sure the code is always top-notch, and thank you to our super contributors for their non-ending flow of great ideas: PrestaEdit, gskema, wellic, TomasVotruba, natrim, axometeam, dkarvounaris, doekia, and cedricfontaine… and those whose contributions were not merged, too! Also, a big thanks to all those who contribute with tickets on the Forge!&lt;/p&gt;

&lt;p&gt;Remember: if you want to contribute to PrestaShop with code, read those:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;Contributing code to PrestaShop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+write+a+commit+message&quot;&gt;How to write a commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;…and if you do not know how to fix an issue but wish to report it, read this: &lt;a href=&quot;http://doc.prestashop.com/display/PS16/How+to+use+the+Forge+to+contribute+to+PrestaShop&quot;&gt;How to use the Forge to contribute to PrestaShop&lt;/a&gt;. Thank you!&lt;/p&gt;

&lt;p&gt;Until the next Core Weekly report, let me know if I forgot something here, or if you have ideas about how to improve the this report!&lt;/p&gt;

&lt;p&gt;Cheers!&lt;/p&gt;
</description>
        <pubDate>Fri, 10 Apr 2015 13:45:00 +0200</pubDate>
        <link>http://build.prestashop.com/news/prestashop-core-weekly-week-14/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/prestashop-core-weekly-week-14/</guid>
        
        <category>core-weekly</category>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>Welcome to build.prestashop.com!</title>
        <description>&lt;p&gt;Welcome to build.prestashop.com!&lt;/p&gt;

&lt;p&gt;Brought to you by PrestaShop Core team, build.prestashop.com gives you insights on PrestaShop’s ongoing development.
We’re here to share with you what we’re working on, and discuss what creating with PrestaShop means for you, as a developing contributor from the PrestaShop community.&lt;/p&gt;

&lt;h3 id=&quot;what-is-it-about-exactly&quot;&gt;What is it about exactly?&lt;/h3&gt;

&lt;p&gt;To make it short, this blog is here to &lt;strong&gt;keep you updated with PrestaShop latest technical evolutions&lt;/strong&gt;, by:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Communicating on the upcoming code updates&lt;/li&gt;
  &lt;li&gt;Sharing the ongoing projects and developments&lt;/li&gt;
  &lt;li&gt;Telling you about our latest news as a dev team&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;what-is-there-for-you&quot;&gt;What is there for you?&lt;/h3&gt;

&lt;p&gt;&lt;i class=&quot;fa fa-chevron-right&quot;&gt;&lt;/i&gt; We’ve already started with the &lt;strong&gt;Core Weekly&lt;/strong&gt; section: each week you’ll find the highlights of what happened in and around PrestaShop’s Core.&lt;/p&gt;

&lt;p&gt;&lt;i class=&quot;fa fa-chevron-right&quot;&gt;&lt;/i&gt;  If a new method or feature requires some in-depth explanations, we’ll provide you with detailed &lt;strong&gt;how-tos&lt;/strong&gt;, which will eventually find their way in either the &lt;a href=&quot;http://doc.prestashop.com/display/PS16/Developer+Guide&quot;&gt;Developer Guide&lt;/a&gt; or the &lt;a href=&quot;http://doc.prestashop.com/display/PS16/Designer+Guide&quot;&gt;Designer Guide&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;i class=&quot;fa fa-chevron-right&quot;&gt;&lt;/i&gt;  If you’ve submitted &lt;a href=&quot;http://doc.prestashop.com/display/PS16/Contributing+code+to+PrestaShop&quot;&gt;a major pull-request&lt;/a&gt; on &lt;a href=&quot;https://github.com/PrestaShop/PrestaShop&quot;&gt;our GitHub repo&lt;/a&gt; and it has been merged into the Core code, you might want to &lt;strong&gt;present your PR&lt;/strong&gt; to the community: what it brings, the choices you’ve made, how it impacts the Core, etc. Here is the place to let people know about it!&lt;/p&gt;

&lt;p&gt;We’re an open-source project and we want to keep growing with you: see how &lt;a href=&quot;/misc/how-to-write-on-this-blog/&quot;&gt;you can contribute&lt;/a&gt; to build.prestashop.com.&lt;/p&gt;

&lt;p&gt;If there’s anything else you’d like to know or if you have some more ideas for this blog, don’t hesitate to comment!&lt;/p&gt;

&lt;p&gt;Happy coding!&lt;/p&gt;
</description>
        <pubDate>Fri, 03 Apr 2015 13:12:00 +0200</pubDate>
        <link>http://build.prestashop.com/news/welcome/</link>
        <guid isPermaLink="true">http://build.prestashop.com/news/welcome/</guid>
        
        <category>news</category>
        
        
        <category>news</category>
        
      </item>
    
  </channel>
</rss>
